
:root {
  --background-color: #1c1c1c;
  --input-background: #171717;
  --add-item-text-color: #c9c9c9;
  --font-color: rgb(82.55% 84.13% 84.13%);
  --hover-color: hsl(0deg 0% 60%);
  --button-hover-color: rgb(215 215 215);
  --reg-box-shadow: 0 .2em .4em rgb(0 0 0 / 20%), 0 0 .8em rgb(0 0 0 / 20%);
  --focus-box-shadow: 0 .25em .75em rgb(0 0 0 / 40%), 0 0 .5em rgb(0 0 0 / 40%);
  --input-box-shadow: 0 .025rem 0.5rem rgb(0 0 0 / 20%);
}
  
@media (prefers-color-scheme: light) {
  :root {
    --background-color: #ffffff;
    --input-background: #f3f3f3;
    --add-item-text-color: #444444;
    --font-color: #1a1a1a;
    --hover-color: rgb(102 102 102);
    --button-hover-color: hsl(0deg 0% 96%);
    --reg-box-shadow: 0 .2em .4em rgb(0 0 0 / 10%), 0 0 .8em rgb(0 0 0 / 10%);
    --focus-box-shadow: 0 .25em .75em rgb(0 0 0 / 20%), 0 0 .5em rgb(0 0 0 / 20%);
    --input-box-shadow: none;
  }
}

:root[data-theme="dark"] {
  --background-color: #1c1c1c;
  --input-background: #171717;
  --add-item-text-color: #c9c9c9;
  --font-color: rgb(82.55% 84.13% 84.13%);
  --hover-color: hsl(0deg 0% 60%);
  --button-hover-color: rgb(215 215 215);
  --reg-box-shadow: 0 .2em .4em rgb(0 0 0 / 20%), 0 0 .8em rgb(0 0 0 / 20%);
  --focus-box-shadow: 0 .25em .75em rgb(0 0 0 / 40%), 0 0 .5em rgb(0 0 0 / 40%);
  --input-box-shadow: 0 .025rem 0.5rem rgb(0 0 0 / 20%);
}

:root[data-theme="light"] {
  --background-color: #ffffff;
  --input-background: #f3f3f3;
  --add-item-text-color: #444444;
  --font-color: #1a1a1a;
  --hover-color: rgb(102 102 102);
  --button-hover-color: hsl(0deg 0% 96%);
  --reg-box-shadow: 0 .2em .4em rgb(0 0 0 / 10%), 0 0 .8em rgb(0 0 0 / 10%);
  --focus-box-shadow: 0 .25em .75em rgb(0 0 0 / 20%), 0 0 .5em rgb(0 0 0 / 20%);
  --input-box-shadow: none;
}

html,
body {
  height: 100%;
  width: 100%;
  margin: 0;
  font-family: "Lato", sans-serif;
  touch-action: manipulation;
  scroll-behavior: smooth;
}

body {
  display: grid;
  place-items: center;
  overflow-y: scroll;
  color: var(--font-color);
  position: relative;
  background-color: var(--background-color);
  scrollbar-width: none;
  -ms-overflow-style: none;
}

body.no-scroll {
  overflow-y: hidden;
}

::-webkit-scrollbar {
  display: none;
}

h1,
h2,
input#total,
:disabled {
  -webkit-user-select: none;
  user-select: none;
  pointer-events: none;
}

:disabled {
  opacity: .5;
}

h1 {
  font-weight: 900;
  font-style: italic;
}

h3 {
  font-size: 1rem;
  font-weight: 700;
}

button {
    font-weight: 900;
    font-family: 'Lato';
}

li > h2::after {
  content: attr(data-price);
  font-size: .7em;
  color: currentColor;
  opacity: .85;
  margin-left: .25em;
}

.container {
  width: 75vw;
  max-width: 30rem;
  position: relative;
  padding-top: max(2rem, calc(env(safe-area-inset-top) + 1rem));
  padding-bottom: max(2rem, env(safe-area-inset-bottom));
  -webkit-transition: filter 250ms ease-out, margin-top .4s ease-out;
  transition: filter 250ms ease-out, margin-top .4s ease-out 100ms;
}

.show:not(.theme-picker, .alert-dialog) ~ .container,
.show:not(.theme-picker, .alert-dialog) ~ .theme-picker {
  filter: blur(10px);
}

.theme-picker.show ~ .container {
    margin-top: calc(env(safe-area-inset-top) + 8rem + 2px);
}

.order:not(.show) {
  margin-top: calc(-1rem * var(--num-of-items) * 6.3228125) !important;
  opacity: 0;
}

.theme-picker {
  width: 100%;
  background: var(--background-color);
  display: flex;
  position: fixed;
  top: 0;
  height: calc(env(safe-area-inset-top) + 8rem);
  align-items: center;
  justify-content: center;
  gap: 1rem;
  margin-top: calc(-1 * (env(safe-area-inset-top) + 8rem + 2px));;
  padding-top: env(safe-area-inset-top);
  z-index: 1;
  transition: filter 250ms ease-out, margin-top .4s cubic-bezier(.4,0,.2,1) 100ms;
  will-change: margin-top;
  box-shadow: 0 2px var(--font-color);
}

.theme-picker.show {
  margin-top: 0;
}

button.theme-button {
  display: flex;
  background: transparent;
  height: 6rem;
  width: 6rem;
  color: var(--font-color);
  align-items: center;
  justify-content: center;
  flex-direction: column;
  padding: 1rem;
  transform: scale(1);
  transition: transform .2s ease-out, color 125ms ease-out;
  font-family: 'Lato';
}

button.theme-button:hover,
button.theme-button:focus-visible {
  transform: scale(1.125);
  color: var(--hover-color);
  outline: none;
  appearance: none;
}

.theme-button > .svg {
  width: 2.5rem;
}

.theme-picker:after {
  content: '';
  width: 1rem;
  height: 1rem;
  position: absolute;
  bottom: 0;
  border: solid;
  border-width: 0 0.625rem 0.75rem 0.625rem;
  border-color: transparent;
  border-bottom-color: var(--font-color);
  transition: transform .4s cubic-bezier(0.18, 0.89, 0.32, 1.28);
}

[data-theme="system"] .theme-picker:after {
  transform: translateX(7rem);
}

[data-theme="light"] .theme-picker:after {
  transform: translateX(-7rem);
}

[data-theme="dark"] .theme-picker:after {
  transform: translateX(0);
}

[data-theme="system"] #system-theme:hover,
[data-theme="system"] #system-theme:focus-visible,
[data-theme="light"] #light-theme:hover,
[data-theme="light"] #light-theme:focus-visible,
[data-theme="dark"] #dark-theme:hover,
[data-theme="dark"] #dark-theme:focus-visible {
  cursor: default;
  transform: scale(1);
  color: var(--font-color);
}

li {
  position: relative;
}

li,
.total,
.complete,
.edit,
.add,
.finished,
.confirm,
.cancel {
  font-family: "Lato", sans-serif;
  display: flex;
  align-items: center;
  border-radius: .5rem;
  padding: .5rem 0.75rem;
}

li,
.footer,
.footer_modal {
  margin-top: 1rem;
}

.footer > button {
  scroll-margin-bottom: max(2rem, env(safe-area-inset-bottom));
}

.total {
  margin-top: 0;
}

ul li:last-child {
  margin-bottom: 1rem;
}

ul li:first-child {
  margin-top: 0;
  scroll-margin-top: max(2rem, calc(env(safe-area-inset-top) + 1rem));
}

li, .total {
  justify-content: space-between;
}

li,
.total {
  background: var(--background-color);
  box-shadow: var(--reg-box-shadow);
}

:is(li, .total, .add, .complete, .edit, .finished):focus-visible {
  box-shadow: var(--focus-box-shadow);
  outline: none;
}

.price_footer {
  -webkit-transition: transform 500ms cubic-bezier(0.4, 0, 0.2, 1);
  transition: transform 500ms cubic-bezier(0.4, 0, 0.2, 1);
}

.price_footer.dragging {
    margin-top: 1rem;
}

.modal {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: var(--background-color);
  width: clamp(85vw, 30rem, 100%);
  max-width: 35rem;
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  -webkit-transition: opacity 250ms ease-out;
  transition: opacity 250ms ease-out;
  border-radius: 0.5rem;
  opacity: 0;
  z-index: 2;
  border-top: .5rem solid var(--modal-accent);
  box-shadow: var(--reg-box-shadow);
}

.modal-title {
  margin-top: .75rem;
}

.information .modal-content > h3 {
  font-style: italic;
}

.information .modal-content {
  margin-bottom: -.75rem;
}

.modal-add-item { --modal-accent: #006aff;}
.modal-clear-menu { --modal-accent: #dc4747;}
.modal-edit-item { --modal-accent: #ffd800; }

button.cancel:hover {
  color: var(--hover-color);
}

.filled-button:hover {
  color: var(--button-hover-color);
  box-shadow: 0 .375rem 1rem -.625rem var(--modal-accent);
}

button.cancel:focus-visible {
  color: var(--hover-color);
}

.filled-button.confirm:focus-visible {
  color: var(--button-hover-color);
  box-shadow: 0 .375rem 1rem -.625rem var(--modal-accent) !important;
}

.modal-content {
  width: 100%;
  padding: .5rem .75rem;
}

.modal-content :first-child {
  margin-block-start: 0;
}

.modal-content :last-child {
  margin-block-end: 0;
}

.modal-title {
  width: 100%;
  padding: .75rem;
}

.modal-title > h2 {
  font-size: 1.25rem;
  font-weight: 900;
  color: var(--font-color);
  margin: 0;
}

.finished {
  justify-content: center;
}

.finished,
.add {
  height: 2rem;
  aspect-ratio: 3;
  border-radius: 1rem;
  background: #00000030;
  color: var(--font-color);
}

.add {
  position: relative;
  display: grid;
  place-items: center;
}

.complete,
.edit,
.confirm {
  color: #fff;
}

.cancel {
    color: var(--font-color);
}

.complete,
.edit,
.cancel,
.confirm {
  justify-content: center;
}

.cancel,
.confirm {
  background: transparent;
  font-size: 1rem;
  padding: 0.75em .75em;
}

.confirm {
  background: var(--modal-accent);
  box-shadow: 0 .375rem 1rem -.75rem var(--modal-accent);
}

.complete {
  background: #006AFF;
  width: 67.5%;
}

.edit {
  background: #888;
  width: 30%;
}

.edit > h1,
.finished > h1 {
  font-style: normal;
}

.finished > h1 {
  font-size: .75rem;
}

.footer_modal,
.footer,
.controls {
  width: 100%;
  display: flex;
}

.footer_modal {
  justify-content: flex-end;
  flex-wrap: wrap;
  gap: .5rem;
}

.controls,
.footer {
  justify-content: space-between;
}

.footer_modal {
  margin: 0;
  padding: .75rem 1rem 1.5rem 0rem;
}

.controls {
  opacity: 0;
  margin-bottom: -2rem;
  -webkit-transition: margin-bottom 125ms ease-out, opacity 125ms ease-out;
  transition: margin-bottom 125ms ease-out, opacity 125ms ease-out;
  width: 75vw;
  max-width: 30rem;
}

.controls.show {
  margin-bottom: 1rem;
}

.modal.show,
.controls.show,
.menu-item-control.show,
.alert-dialog.show {
  opacity: 1;
}

.order {
  -webkit-transition: margin-top 500ms ease-out, opacity 250ms ease-out !important;
  transition: margin-top 500ms ease-out, opacity 250ms ease-out !important;
}

ul {
  list-style-type: none;
  margin: 0;
  padding: 0;
}

.modal-exit-button {
  background: transparent;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  position: absolute;
  top: 0;
  right: 0;
  margin: .5rem .75rem;
  display: grid;
  place-items: center;
  color: var(--font-color);
}

.menu-item-control {
  background: #0000001f;
  width: 2rem;
  height: 2rem;
  border-radius: 50%;
  position: absolute;
  top: 0;
  display: grid;
  place-items: center;
  color: var(--font-color);
  opacity: 0;
  -webkit-transition: opacity 125ms ease-out;
  transition: opacity 125ms ease-out;
}

.menu-item-control svg {
  width: 1.25rem;
  height: 1.25rem;
}

.menu-item-control:hover,
.menu-item-control:focus-visible,
.modal-exit-button:hover,
.modal-exit-button:focus-visible,
.finished:hover,
.add:hover,
.finished:focus-visible,
.add:focus-visible,
.decrement:hover,
.increment:hover {
  color: var(--hover-color);
}

.item-edit-button {
  right: 0;
  transform: translate(40%,-35%);
  color: var(--font-color);
}

.x-button::before, .x-button::after {
  content: ' ';
  width: 50%;
  height: 10%;
  background: currentColor;
  position: absolute;
  border-radius: .1rem;
  transform: rotate(45deg);
}

.x-button::after {
  transform: rotate(-45deg);
}

.item-remove-button {
  left: 0;
  transform: translate(-40%,-35%);
}

.x-button::before, .x-button::after {
  content: ' ';
  width: 50%;
  height: 10%;
  background: currentColor;
  position: absolute;
  border-radius: .1rem;
  transform: rotate(45deg);
}

.x-button::after {
  transform: rotate(-45deg);
}

.add::before, .add::after {
  content: ' ';
  aspect-ratio: 7.5;
  height: 7.25%;
  background: currentColor;
  position: absolute;
  border-radius: .1rem;
}

.add::after {
  transform: rotate(90deg);
}

li.remove {
  transition: opacity 150ms ease-out, margin-top 500ms ease-out, margin-bottom 500ms ease-out;
  opacity: 1;
}

li.remove {
  --margin: -2.6353125rem;
  opacity: 0;
  margin-bottom: var(--margin) !important;
  margin-top: var(--margin) !important;
}

li:last-child.remove {
  --margin: -2.1353125rem;
  opacity: 0;
  margin-bottom: var(--margin) !important;
  margin-top: var(--margin) !important;
}

li:first-child.remove {
  --margin: -3.1353125rem;
  opacity: 0;
  margin-bottom: var(--margin) !important;
  margin-top: var(--margin) !important;
}

li:only-child.remove {
  --margin: -2.6353125rem;
  opacity: 0;
  margin-bottom: var(--margin) !important;
  margin-top: var(--margin) !important;
}

.decrement, .increment {
  width: 3rem;
  height: 3rem;
  background: #0000000a;
  position: relative;
  display: grid;
  place-items: center;
  border-radius: 20%;
  color: var(--font-color);
}

.quantity {
  display: flex;
  align-items: center;
}

[name="Quantity"], .increment {
  margin-left: .5rem;
}

.decrement::before, .increment::before, .increment::after {
  content: ' ';
  width: 50%;
  height: 10%;
  background: currentColor;
  position: absolute;
  border-radius: .15rem;
}

.increment::after {
  transform: rotate(90deg);
}

button {
  cursor: pointer;
}

[name="Quantity"],
#total,
.complete,
.decrement,
.increment {
  -webkit-transition: opacity 125ms ease-out;
  transition: opacity 125ms ease-out;
}

.fadeout {
  opacity: 0;
  pointer-events: none;
}

.hidden {
  display: none;
}

input,
textarea,
button {
  border: none;
}

input[type='text'],
input[type='number'],
textarea {
  font-size: 1.5rem;
  font-family: 'Lato';
  font-weight: 900;
  border-radius: 15px;
  padding-left: 10px;
  padding-right: 10px;
  color: var(--font-color);
  background: transparent;
}

input:not(#total, .item-info-input) {
  text-align: center;
  width: 4ch;
}

input#total {
  width: 10ch;
  text-align: right;
  font-size: 1.75rem
}

input.item-info-input {
  width: clamp(90%, 30rem, 100%);
  background: var(--input-background);
  -webkit-appearance: none;
  appearance: none;
  border-radius: .25rem;
  font-size: 1.5rem;
  padding: .25em .5em;
  font-weight: 900;
  -webkit-box-shadow: var(--input-box-shadow);
  box-shadow: var(--input-box-shadow);
}

input:focus,
button:not(.theme-button):focus {
  outline: black;
  appearance: none;
}

input:focus,
button:not(.theme-button, .cancel, .x-button:not(.item-remove-button)):focus-visible {
  box-shadow: var(--focus-box-shadow)
}

button svg {
  pointer-events: none;
}

input[type="number"] {
  -moz-appearance: textfield;
}

input[type="number"]::-webkit-inner-spin-button, 
input[type="number"]::-webkit-outer-spin-button { 
  -webkit-appearance: none; 
  margin: 0; 
}

.alert-dialog {
  position: fixed;
  background: rgb(0 0 0 / 75%);
  top: 0;
  left: 50%;
  transform: translateX(-50%);
  margin-top: 2rem;
  padding: .75rem 1rem;
  color: white;
  border-radius: .375rem;
  font-weight: bold;
  box-shadow: var(--reg-box-shadow);
  z-index: 10;
  user-select: none;
  opacity: 0;
  transition: opacity 125ms ease-in;
}

.alert-dialog:empty {
  padding: 0;
}

*,
*::before,
*::after {
  box-sizing: border-box;
}

*::selection {
  background: #333;
  color: #fff;
}

@media screen and (max-width: 950px) and (orientation: portrait) {
    
  h1,
  h2,
  h3 {
    margin-block-start: .25em;
    font-size: 1.25rem
  }

  .footer_modal > * h3,
  .footer h1,
  .controls h1,
  .modal-content h3:not(:first-child) {
    margin-block-start: revert;
  }

  h2,
  h3 {
    font-size: 1rem;
  }

  input#total {
    margin-bottom: 5px;
  }

  .quantity {
    margin-bottom: 5px;
  }

  li, .total {
    flex-direction: column;
    justify-content: center;
    align-items: flex-start;
  }

  input#total {
    text-align: left;
    padding-left: 0;
    font-size: 1.75rem
  }

  .order:not(.show) {
    margin-top: calc(-1rem * var(--num-of-items) * 7.6) !important;
  }

  li.remove {
    --margin: -3.3053125rem;
    opacity: 0;
    margin-bottom: var(--margin) !important;
    margin-top: var(--margin) !important;
  }

  li:last-child.remove {
      --margin: -2.8053125rem;
      opacity: 0;
      margin-bottom: var(--margin) !important;
      margin-top: var(--margin) !important;
  }

  li:first-child.remove {
      --margin: -3.8053125rem;
      opacity: 0;
      margin-bottom: var(--margin) !important;
      margin-top: var(--margin) !important;
  }

  li:only-child.remove {
      --margin: -3.3053125rem;
      opacity: 0;
      margin-bottom: var(--margin) !important;
      margin-top: var(--margin) !important;
  }
}