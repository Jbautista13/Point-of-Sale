var me=Object.defineProperty;var G=Object.getOwnPropertySymbols;var fe=Object.prototype.hasOwnProperty,ye=Object.prototype.propertyIsEnumerable;var X=(e,t,r)=>t in e?me(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,F=(e,t)=>{for(var r in t||(t={}))fe.call(t,r)&&X(e,r,t[r]);if(G)for(var r of G(t))ye.call(t,r)&&X(e,r,t[r]);return e};import{S as he}from"./vendor.c27de078.js";const ve=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerpolicy&&(o.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?o.credentials="include":a.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}};ve();var D,O,Y,p,K,M={showKeys:!1,keyPressedCurrently:!1},b={hideKeyPressTimer:null,errorTimer:null},P={},be=JSON.parse(localStorage.getItem("PoSData"))||{numOfItems:0,names:[],prices:[],theme:"system",settings:{"Change Calculator":!0}},{numOfItems:y=0,names:w=[],prices:x=[],theme:$="system",settings:q={show_order_summary:!0,change_calculator:!0}}=be,U;j(y);window.onload=function(){p=document.querySelector(".edit");let e=document.querySelector(".finished"),t=document.querySelector(".add"),r=document.querySelector(".order"),n=document.querySelector(".complete"),a=document.querySelector("#cash"),o=document.querySelector("#total");K=document.getElementById("open-settings"),Y=document.querySelectorAll(".theme-button"),a.addEventListener("keydown",Ce),e.addEventListener("click",I),t.addEventListener("click",Le),o.addEventListener("input",xe),K.addEventListener("click",qe),n.addEventListener("click",Ee),Y.forEach(l=>{l.addEventListener("click",we)}),ce(!0);for(var c=0;c<y;c++){let l=document.createElement("li");l.tabIndex=0,l.dataset.order=Number(c)+1,l.innerHTML=ie(w[c],x[c],c),P[w[c]]=0,r.appendChild(l),le(l)}S(r),document.querySelector(`[data-theme-name="${$}"`).disabled=!0,D=document.querySelectorAll(".item-remove-button"),O=document.querySelectorAll(".item-edit-button"),V(),p.addEventListener("click",l=>{let u=document.querySelector(".controls"),f=document.querySelectorAll("li");const v=document.body.dataset.inEdit,E=document.body.dataset.finishingOrder,g=document.body.dataset.blankOrder;E=="true"?pe(p):g=="false"?R():v=="true"?(k(K,"margin-bottom"),k(u),D.forEach(h=>{k(h),h.disabled=!0}),O.forEach(h=>{k(h),h.disabled=!0}),f.forEach(h=>h.tabIndex="0"),se.option("disabled",!0),De(),n.disabled=!1,document.body.dataset.inEdit=!1,document.removeEventListener("dblclick",re)):(S(u),S(K),D.forEach(h=>{S(h),h.disabled=!1}),O.forEach(h=>{S(h),h.disabled=!1}),f.forEach(h=>h.tabIndex="-1"),se.option("disabled",!1),Ne(),n.disabled=!0,document.body.dataset.inEdit=!0,document.addEventListener("dblclick",re))})};var C=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"});function Ee(e){let t=e.target||e,r=document.querySelectorAll("li"),n=document.querySelector("#total").dataset.total,a=document.getElementById("order-summary-container"),o=p;const c=document.body.dataset.finishingOrder;if(n!="0")if(q.show_order_summary==!1)R();else if(c=="true")R(),S(document.querySelector(".order")),k(a,"margin-top"),q.change_calculator!=!1&&k(document.querySelector(".change-container"),"margin-top"),r.forEach(l=>l.tabIndex="0"),r[0].focus(),document.body.dataset.finishingOrder="false",t.firstElementChild.innerText="Complete";else{for(r.forEach(u=>u.tabIndex="-1"),document.body.dataset.finishingOrder="true",k(document.querySelector(".order"),"margin-top");a.firstChild;)a.removeChild(a.firstChild);let l=0;for(const[u,f]of Object.entries(P))f!=0&&(a.appendChild(Ae(u,f)),l++);Pe(l),S(a),q.change_calculator!=!1&&(Ie(),S(document.querySelector(".change-container")),document.querySelector("input#cash").focus(),document.querySelector("input#cash").scrollIntoView()),o.firstElementChild.innerText="Back",t.firstElementChild.innerText="Finish"}}function pe(e){let t=document.querySelectorAll("li"),r=e.nextElementSibling;S(document.querySelector(".order")),k(document.querySelector(".change-container"),"margin-top"),k(document.getElementById("order-summary-container"),"margin-top"),t.forEach(n=>n.tabIndex="0"),document.body.dataset.finishingOrder="false",e.firstElementChild.innerText="Clear",r.firstElementChild.innerText="Complete"}function R(){let e=document.querySelector("#total");document.querySelectorAll('[name="Quantity"]').forEach(t=>{t.classList.add("fadeout"),e.classList.add("fadeout"),setTimeout(function(){t.value=0,t.classList.remove("fadeout"),e.classList.remove("fadeout"),t.dispatchEvent(new Event("input"))},125)})}function Z(){let e=document.querySelectorAll("li");for(var t=1;t<=y;t++){let r=e[t-1],n=r.firstElementChild,a=r.children[1];r.dataset.order=t,n.dataset.order=t-.75,a.dataset.order=t-.25}V()}function ge(e){let t=e.target||e,r=t.parentElement,n=t.parentElement.querySelector("input"),a=document.querySelector("#total"),{name:o,price:c,quantity:l}=n.dataset,{total:u}=a.dataset,f=Number(u)-l*c,v=r.dataset.order;w.splice(v-1,1),x.splice(v-1,1),a.value=C.format(f),a.dataset.total=f,y=Number(y)-1,delete P[o],console.log(P),j(y),r.classList.add("remove"),r.addEventListener("transitionend",function(g){g.propertyName=="margin-top"&&(r.outerHTML="",Z())}),H(),D=document.querySelectorAll(".item-remove-button"),O=document.querySelectorAll(".item-edit-button")}function Se(e){let t=e.target||e,r=document.querySelector("#total"),n=t.value,{name:a,price:o,quantity:c}=t.dataset,{total:l}=r.dataset;P[a]=n;let u=Number(l)+n*o-c*o;r.value=C.format(u),r.dispatchEvent(new Event("input")),r.dataset.total=u,t.dataset.quantity=n}function ke(e){e.stopPropagation();let t=document.querySelector(".modal-edit-item");W(),document.body.dataset.currentModal="editing",S(t);let n=(e.target||e).nextElementSibling,a=t.querySelector(".x-button"),o=document.querySelector("#cancel-edit-item"),c=document.querySelector("#confirm-edit-item"),l=document.querySelector("#edited-item-name"),u=document.querySelector("#edited-item-price");l.value=n.innerText,u.value=n.dataset.price,l.focus(),a.addEventListener("click",B),o.addEventListener("click",function(){k(t),a.removeEventListener("click",B),c.removeEventListener("click",ne),l.value="",u.value="",Q(),document.body.dataset.currentModal=""},{once:!0}),c.addEventListener("click",ne),c.dataset.previousItemName=n.innerText,c.dataset.previousPrice=n.dataset.price}function qe(e){e.stopPropagation();let t=document.querySelector(".settings-modal");W(),document.body.dataset.currentModal="settings",S(t);let r=t.querySelector(".x-button"),n=t.querySelector(".cancel"),a=t.querySelector(".confirm");r.addEventListener("click",B),n.addEventListener("click",function(){k(t),r.removeEventListener("click",B),a.removeEventListener("click",ae),ce(),U=F({},q),Q(),document.body.dataset.currentModal=""},{once:!0}),a.addEventListener("click",ae)}function Le(e){e.stopPropagation();let t=document.querySelector(".modal-add-item");W(),document.body.dataset.currentModal="adding",S(t);let r=t.querySelector(".x-button"),n=t.querySelector("#cancel-add-item"),a=t.querySelector("#confirm-add-item"),o=t.querySelector("#add-item-name"),c=t.querySelector("#add-item-price");o.focus(),r.addEventListener("click",B),n.addEventListener("click",function(){k(t),r.removeEventListener("click",B),a.removeEventListener("click",oe),o.value="",c.value="",Q(),document.body.dataset.currentModal=""},{once:!0}),a.addEventListener("click",oe)}function we(e){document.querySelector(`[data-theme-name="${$}"`).disabled=!1,e.currentTarget.disabled=!0,$=e.currentTarget.dataset.themeName,document.documentElement.dataset.theme=$,H(),Me()}function Te(e){let t=e.currentTarget;U[t.id]=t.checked}function xe(e){console.log(e.target);let t=e.target.value;t=="$0.00"?(document.body.dataset.blankOrder="true",p.firstElementChild.innerText="Edit"):t!="$0.00"&&(document.body.dataset.blankOrder="false",p.firstElementChild.innerText="Clear")}function Ce(e){let t=e.target,r=t.parentElement.nextElementSibling.children[1];e.code=="Escape"||e.code=="Enter"||(e.preventDefault(),e.stopPropagation(),!(!isFinite(e.key)&&e.code!="Backspace"&&e.code!="Period")&&(isFinite(e.key)?t.value=C.format(Number(t.value.replace(/[^0-9.-]+/g,"")*10)+e.key/100):e.code=="Backspace"?t.value=C.format(Math.floor(Number(t.value.replace(/[^0-9.-]+/g,"")*10))/100):t.value=C.format(Number(t.value.replace(/[^0-9.-]+/g,"")*100)),r.value=C.format(Number(t.value.replace(/[^0-9.-]+/g,""))-document.querySelector("#total").dataset.total)))}function ee(e){let r=(e.target||e).previousElementSibling;r.stepUp(),r.dispatchEvent(new Event("input"))}function te(e){let r=(e.target||e).nextElementSibling;r.stepDown(),r.dispatchEvent(new Event("input"))}function B(){let e=document.body.dataset.currentModal;e=="adding"?document.querySelector("#cancel-add-item").click():e=="editing"?document.querySelector("#cancel-edit-item").click():e=="settings"&&document.getElementById("cancel-settings-change").click()}function re(e){document.body.dataset.currentModal?e.target.closest(".modal")||B():!e.target.closest(".container")&&!e.target.closest(".theme-picker")&&!e.target.closest(".modal")&&I()}function Ie(){document.querySelector("#change").value="$0.00",document.querySelector("#cash").value="$0.00"}function ne(e){let t=document.querySelector(".modal-edit-item"),r=document.querySelector("#cancel-edit-item"),n=document.querySelector("#edited-item-name"),a=document.querySelector("#edited-item-price");if(!n.value.trim().length||!a.value.length)r.dispatchEvent(new Event("click"));else{let o=w.indexOf(e.currentTarget.dataset.previousItemName),c=document.querySelector('[data-order="'+Number(o+1)+'"'),l=C.formatToParts(a.value);if(l[1].type==="nan"){document.activeElement.blur();let f=document.querySelector("#alert-error");t.classList.add("modal-shake"),confirm.disabled=!0,f.textContent="Enter a valid price for "+n.value,f.classList.add("show"),b.errorTimer&&clearTimeout(b.errorTimer),b.errorTimer=setTimeout(_,2500),t.addEventListener("animationend",function v(){t.removeEventListener("animationend",v),t.classList.remove("modal-shake"),confirm.disabled=!1,a.focus()});return}l[1].value=l[1].value||"";let u=l[1].value+l[2].value+l[3].value;if(document.getElementById(n.value.toLowerCase()+"_"+u)){document.activeElement.blur();let f=document.querySelector("#alert-error");t.classList.add("modal-shake"),confirm.disabled=!0,f.textContent="Item already exists",f.classList.add("show"),b.errorTimer&&clearTimeout(b.errorTimer),b.errorTimer=setTimeout(_,2500),t.addEventListener("animationend",function v(){t.removeEventListener("animationend",v),t.classList.remove("modal-shake"),confirm.disabled=!1,n.focus()});return}c.children[0].ariaLabel="Remove "+n.value+" Menu Item",c.children[1].ariaLabel="Edit "+n.value+" Menu Item",c.children[2].dataset.price=u,c.children[2].innerText=n.value,c.children[3].children[0].ariaLabel="Decrement "+n.value,c.children[3].children[1].ariaLabel="Number of "+n.value,c.children[3].children[1].id=n.value.toLowerCase(),c.children[3].children[1].dataset.price=u,c.children[3].children[2].ariaLabel="Increment "+n.value,w[o]=n.value,x[o]=u,H(),c.children[3].children[1].dispatchEvent(new Event("input")),r.dispatchEvent(new Event("click"))}}function ae(e){let r=e.currentTarget.parentElement.parentElement.querySelector(".cancel");q=F({},U),H(),r.dispatchEvent(new Event("click"))}function oe(e){let t=document.querySelector(".modal-add-item"),r=document.querySelector(".order"),n=e.currentTarget,a=document.querySelector("#cancel-add-item"),o=document.querySelector("#add-item-name"),c=document.querySelector("#add-item-price");if(!o.value.trim().length&&!c.value.length)a.dispatchEvent(new Event("click"));else if(o.value.trim().length)if(c.value.length){let l=C.formatToParts(c.value);if(l[1].type==="nan"){document.activeElement.blur();let v=document.querySelector("#alert-error");t.classList.add("modal-shake"),n.disabled=!0,v.textContent="Enter a valid price for "+o.value,v.classList.add("show"),b.errorTimer&&clearTimeout(b.errorTimer),b.errorTimer=setTimeout(_,2500),t.addEventListener("animationend",function E(){t.removeEventListener("animationend",E),t.classList.remove("modal-shake"),n.disabled=!1,c.focus()});return}l[1].value=l[1].value||"";let u=l[1].value+l[2].value+l[3].value;if(document.getElementById(o.value.toLowerCase()+"_"+u)){document.activeElement.blur();let v=document.querySelector("#alert-error");t.classList.add("modal-shake"),n.disabled=!0,v.textContent="Item already exists",v.classList.add("show"),b.errorTimer&&clearTimeout(b.errorTimer),b.errorTimer=setTimeout(_,2500),t.addEventListener("animationend",function E(){t.removeEventListener("animationend",E),t.classList.remove("modal-shake"),n.disabled=!1,o.focus()});return}let f=document.createElement("li");f.tabIndex="-1",f.dataset.order=Number(y)+1,f.innerHTML=ie(o.value,u,y),r.appendChild(f),w[y]=o.value,x[y]=u,y=Number(y)+1,P[o.value]=0,console.log(P),j(y),H(),o.value="",c.value="",V(),Array.from(r.lastChild.lastChild.children).forEach(v=>{v.disabled=!0}),le(f),D=document.querySelectorAll(".item-remove-button"),O=document.querySelectorAll(".item-edit-button"),o.focus()}else{document.activeElement.blur();let l=document.querySelector("#alert-error");t.classList.add("modal-shake"),n.disabled=!0,l.textContent="Please enter a price for "+o.value,l.classList.add("show"),b.errorTimer&&clearTimeout(b.errorTimer),b.errorTimer=setTimeout(_,2500),t.addEventListener("animationend",function u(){t.removeEventListener("animationend",u),t.classList.remove("modal-shake"),n.disabled=!1,c.focus()});return}else{document.activeElement.blur();let l=document.querySelector("#alert-error");t.classList.add("modal-shake"),n.disabled=!0,l.textContent="Please enter an item name",l.classList.add("show"),b.errorTimer&&clearTimeout(b.errorTimer),b.errorTimer=setTimeout(_,2500),t.addEventListener("animationend",function u(){t.removeEventListener("animationend",u),t.classList.remove("modal-shake"),n.disabled=!1,o.focus()});return}}function Ae(e,t){let r=document.createElement("div"),n=document.createElement("h1"),a=document.createElement("h1");return r.classList.add("summary-item-entry"),n.innerText=e,a.innerText=t,r.appendChild(n),r.appendChild(document.createElement("hr")),r.appendChild(a),r}function ie(e,t,r){const n=z(e),a=z(t),o=z(r);return`<button aria-label="Remove ${n} Menu Item" class="menu-item-control x-button item-remove-button hidden" data-order="${Number(o)+.25}" tabindex="0" disabled></button>
        <button aria-label="Edit ${n} Menu Item" class="menu-item-control item-edit-button hidden" data-order="${Number(o)+.75}" tabindex="0" disabled>
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                <path d="M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"></path>
            </svg>
        </button>
        <h2 data-price="${a}">${n}</h2>
        <div class="quantity">
            <button aria-label="Decrement ${n}" class="decrement" tabindex="-1"></button>
            <input aria-label="Number of ${n}" type="number" pattern="[0-9]*" inputmode="numeric" data-name="${n}" data-price="${a}" data-quantity="0" min="0" max="99" value="0" name="Quantity" id="${n.toLowerCase()}_${a}" tabindex="-1">
            <button aria-label="Increment ${n}" class="increment" tabindex="-1"></button>
        </div>`}function V(){p.dataset.order=Number(y)+1,p.nextElementSibling.dataset.order=Number(y)+2}function ce(e=!1){e&&(q.show_order_summary==null&&(q.show_order_summary=!0),q.change_calculator==null&&(q.change_calculator=!0),U=F({},q)),console.log(q);for(const[t,r]of Object.entries(q)){let n=document.getElementById(t);n.checked=r,e&&n.addEventListener("click",Te)}}function le(e){let t=e.querySelector(".item-remove-button"),r=e.querySelector(".item-edit-button"),n=e.querySelector(".increment"),a=e.querySelector(".decrement"),o=e.querySelector("input");t.addEventListener("click",ge),r.addEventListener("click",ke),n.addEventListener("click",ee),a.addEventListener("click",te),o.addEventListener("input",Se)}function W(){let e=document.querySelector("body"),t=document.querySelector(".controls").children;D.forEach(r=>{k(r),r.disabled=!0}),O.forEach(r=>{k(r),r.disabled=!0}),e.classList.add("no-scroll"),t[0].disabled=!0,t[1].disabled=!0,K.disabled=!0,p.disabled=!0}function Q(){let e=document.querySelector("body"),t=document.querySelector(".controls").children;D.forEach(r=>{S(r),r.disabled=!1}),O.forEach(r=>{S(r),r.disabled=!1}),e.classList.remove("no-scroll"),t[0].disabled=!1,t[1].disabled=!1,K.disabled=!1,p.disabled=!1}function S(e){e.classList.remove("hidden"),e.offsetWidth,e.classList.add("show")}function k(e,t="any"){e.classList.remove("show"),e.addEventListener("transitionend",function r(n){(t=="any"||n.propertyName==t)&&!e.matches(".show")&&(e.classList.add("hidden"),e.removeEventListener("transitionend",r))})}function Ne(){Array.from(document.querySelectorAll(".quantity")).forEach(e=>{Array.from(e.children).forEach(t=>{t.disabled=!0})})}function De(){Array.from(document.querySelectorAll(".quantity")).forEach(e=>{Array.from(e.children).forEach(t=>{t.disabled=!1})})}function Oe(e,t){let r=w[e],n=x[e];w.splice(e,1),x.splice(e,1),w.splice(t,0,r),x.splice(t,0,n),H(),Z()}function de(e){var t=e.getBoundingClientRect(),r=Math.max(document.documentElement.clientHeight,window.innerHeight);return!(t.bottom>0&&t.bottom<=r&&t.top>0&&t.top<=r)}function Me(){switch($){case"light":document.querySelector('meta[name="theme-color"]').setAttribute("content","#ffffff");break;case"dark":document.querySelector('meta[name="theme-color"]').setAttribute("content","#1c1c1c");break;case"system":window.matchMedia?window.matchMedia("(prefers-color-scheme: light").matches?document.querySelector('meta[name="theme-color"]').setAttribute("content","#ffffff"):window.matchMedia("(prefers-color-scheme: dark").matches?document.querySelector('meta[name="theme-color"]').setAttribute("content","#1c1c1c"):document.querySelector('meta[name="theme-color"]').setAttribute("content",window.getComputedStyle(document.body).getPropertyValue("background-color")):document.querySelector('meta[name="theme-color"]').setAttribute("content","#1c1c1c");break}}function j(e){document.querySelector(":root").style.setProperty("--num-of-items",Number(e))}function Pe(e){document.querySelector(":root").style.setProperty("--order-num-of-items",Number(e))}function I(){p.dispatchEvent(new Event("click"))}function Be(){if(M.keyPressedCurrently=!1,M.keyPressedCurrently==!1){let e=document.querySelector("#alert-default");e.classList.remove("show"),e.addEventListener("transitionend",function t(r){r.propertyName==="opacity"&&!e.matches(".show")&&(e.textContent="",e.removeEventListener("transitionend",t))})}}function _(){let e=document.querySelector("#alert-error");e.classList.remove("show"),e.addEventListener("transitionend",function t(r){r.propertyName==="opacity"&&!e.matches(".show")&&(e.textContent="",e.removeEventListener("transitionend",t))})}function H(){localStorage.setItem("PoSData",JSON.stringify({numOfItems:y,names:w,prices:x,theme:$,settings:q}))}function z(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function A(e,t){let r=document.querySelector('[data-order="'+(Number(e)-t)+'"]');r.focus(),de(r)&&r.scrollIntoView()}function T(e,t){let r=document.querySelector('[data-order="'+(Number(e)+t)+'"]');r.focus(),de(r)&&r.scrollIntoView()}document.addEventListener("keydown",e=>{const t="ArrowUp",r="ArrowLeft",n="ArrowDown",a="ArrowRight",o="KeyW",c="KeyA",l="KeyS",u="KeyD",f="Enter",v="Backspace",E="Escape",g=1,h=.5,i=document.activeElement,J=document.body.dataset.inEdit,ue=document.body.dataset.finishingOrder,N=document.body.dataset.currentModal;let d=e.code;if(!d||d.indexOf("Numpad")!=-1||d.indexOf("Digit")!=-1)switch(d=e.key,e.key){case"w":case"W":d=o;break;case"a":case"A":d=c;break;case"s":case"S":d=l;break;case"d":case"D":d=u;break}if(!(i instanceof HTMLInputElement&&d!=E&&!i.parentElement.matches(".modal-content")&&!i.matches("input#cash"))){if(M.showKeys){let s="",m=e.key;d.indexOf("Key")!=-1?m=m.toUpperCase():d=="ArrowUp"?m="\u2191":d=="ArrowLeft"?m="\u2190":d=="ArrowRight"?m="\u2192":d=="ArrowDown"&&(m="\u2193"),console.log("press.key: "+e.key+", press.code: "+e.code+", displayKey: "+m),e.ctrlKey?(s=L.control,e.shiftKey&&(s+=" "+L.shift),e.altKey&&(s+=" "+L.alt),e.metaKey&&(s+=" "+L.meta),e.key!="Control"&&e.key!="Meta"&&e.key!="Alt"&&e.key!="Shift"?m=s+" + "+m:m=s):e.metaKey?(s=L.meta,e.shiftKey&&(s+=" "+L.shift),e.altKey&&(s+=" "+L.alt),e.key!="Control"&&e.key!="Meta"&&e.key!="Alt"&&e.key!="Shift"?m=s+" + "+m:m=s):e.altKey&&(s=L.alt,e.shiftKey&&(s+=" "+L.shift),e.key!="Control"&&e.key!="Meta"&&e.key!="Alt"&&e.key!="Shift"?m=s+" + "+m:m=s),document.querySelector("#alert-default").textContent=m,M.keyPressedCurrently==!0?clearTimeout(b.hideKeyPressTimer):(document.querySelector("#alert-default").classList.add("show"),M.keyPressedCurrently=!0),b.hideKeyPressTimer=setTimeout(Be,2500)}if(e.altKey&&d=="KeyK"){M.showKeys=!M.showKeys;return}if(ue=="true")if(document.activeElement.isContentEditable,i.parentElement.matches(".footer")){const s=i.dataset.order;switch(d){case r:case c:s!=Number(y)+1&&A(s,g);break;case a:case u:s!=Number(y)+2&&T(s,g);break;case E:case v:p.click()}}else switch(d){case r:case c:case a:case u:p.focus();break;case E:case v:p.click();break;case f:document.querySelector(".complete").click()}else if(J!="true"){if(d==E){p.click();return}if(i.matches("li")){const s=i.dataset.order;if(isFinite(d)){let m=i.querySelector("input");m.value=m.value=="0"?d:m.value.slice(0,-1)+d,m.dispatchEvent(new Event("input"))}else switch(d){case t:case o:s!=1&&A(s,g),e.preventDefault();break;case n:case l:T(s,g),e.preventDefault();break;case r:case c:te(i.querySelector(".decrement"));break;case a:case u:ee(i.querySelector(".increment"));break;case f:document.querySelector(".complete").click();break;case v:let m=i.querySelector("input");m.value=m.value.length==1?0:m.value.slice(0,-1),m.dispatchEvent(new Event("input"));break}}else if(i.parentElement.matches(".footer")){const s=i.dataset.order;switch(d){case t:case o:document.querySelector('[data-order="'+y+'"]').focus(),e.preventDefault();break;case r:case c:s!=Number(y)+1&&A(s,g);break;case a:case u:s!=Number(y)+2&&T(s,g);break}}else d==t||d==n||d==r||d==a||d==o||d==l||d==c||d==u?(document.querySelector('[data-order="1"]').focus(),e.preventDefault()):d==f&&document.querySelector(".complete").click()}else if(N!="settings"){if(N=="adding"||N=="editing")switch(d){case t:i.matches("#add-item-name")||i.matches("#edited-item-name")?i.parentElement.previousElementSibling.focus():i.matches("#add-item-price")||i.matches("#edited-item-price")?i.previousElementSibling.previousElementSibling.focus():(i.matches(".cancel")||i.matches(".confirm"))&&i.parentElement.previousElementSibling.children[3].focus();break;case r:i.matches(".cancel")?(i.parentElement.previousElementSibling.children[3].focus(),e.preventDefault()):i.matches(".confirm")&&(i.previousElementSibling.focus(),e.preventDefault());break;case n:i.matches(".x-button")?i.nextElementSibling.children[1].focus():i.matches("#add-item-name")||i.matches("#edited-item-name")?i.nextElementSibling.nextElementSibling.focus():i.matches("#add-item-price")||i.matches("#edited-item-price")?i.parentElement.nextElementSibling.children[0].focus():i.matches(".cancel")&&i.nextElementSibling.focus();break;case a:i.matches(".x-button")?(i.nextElementSibling.children[1].focus(),e.preventDefault()):i.matches(".cancel")&&(i.nextElementSibling.focus(),e.preventDefault());break;case f:i.matches("#add-item-name")||i.matches("#edited-item-name")?i.nextElementSibling.nextElementSibling.focus():(i.matches("#add-item-price")||i.matches("#edited-item-price"))&&(N=="adding"?document.querySelector("#confirm-add-item").click():N=="editing"&&document.querySelector("#confirm-edit-item").click());break;case E:N=="adding"?document.querySelector("#cancel-add-item").click():N=="editing"&&document.querySelector("#cancel-edit-item").click();break}else if(J=="true")if(i.matches(".item-remove-button")){const s=i.dataset.order;switch(d){case t:case o:A(s,g),e.preventDefault();break;case n:case l:s!=Number(y)-.75?T(s,g):p.focus(),e.preventDefault();break;case a:case u:T(s,h),e.preventDefault();break;case r:e.preventDefault();break;case E:I();break}}else if(i.matches(".item-edit-button")){const s=i.dataset.order;switch(d){case t:case o:A(s,g),e.preventDefault();break;case n:case l:s!=Number(y)-.25?T(s,g):p.focus(),e.preventDefault();break;case r:case c:A(s,h),e.preventDefault();break;case a:e.preventDefault();break;case E:I();break}}else if(i.parentElement.matches(".controls")){const s=i.dataset.order;switch(d){case t:case o:A(-.75,h),e.preventDefault();break;case n:case l:T(s,g),e.preventDefault();break;case r:case c:s!=-.75&&A(s,h);break;case a:case u:s!=-.25&&T(s,h);break;case E:I();break}}else if(i.matches(".setting-svg-container")){const s=i.dataset.order;switch(d){case n:case l:T(s,g),e.preventDefault();break;case E:I();break}}else i.matches(".edit")?d==t||d==o?(document.querySelector('[data-order="'+(Number(y)-.75)+'"]').focus(),e.preventDefault()):d==E&&I():d==t||d==n||d==r||d==a||d==o||d==l||d==c||d==u?(document.querySelector('[data-order="0.25"]').focus(),e.preventDefault()):d==E&&I()}}});var L={meta:"Meta",alt:"Alt",control:"Ctrl",shift:"Shift"};/(Mac|iPhone|iPod|iPad)/i.test(navigator.userAgent)&&(L.meta="\u2318",L.alt="\u2325",L.control="\u2303",L.shift="\u21E7");var se=he.create(document.querySelector("ul"),{onStart:function(){document.querySelector(".price_footer").classList.add("dragging")},onEnd:function(e){document.querySelector(".price_footer").classList.remove("dragging"),Oe(e.oldIndex,e.newIndex)},disabled:!0,filter:".menu-item-control, .menu-item-control svg",preventOnFilter:!1,animation:250});
