var he=Object.defineProperty;var Z=Object.getOwnPropertySymbols;var be=Object.prototype.hasOwnProperty,ve=Object.prototype.propertyIsEnumerable;var ee=(e,t,r)=>t in e?he(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,F=(e,t)=>{for(var r in t||(t={}))be.call(t,r)&&ee(e,r,t[r]);if(Z)for(var r of Z(t))ve.call(t,r)&&ee(e,r,t[r]);return e};import{S as ge}from"./vendor.c27de078.js";const Ee=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerpolicy&&(i.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?i.credentials="include":a.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}};Ee();var D,O,te,E,K,B={showKeys:!1,keyPressedCurrently:!1},g={hideKeyPressTimer:null,errorTimer:null},M={},U,pe=JSON.parse(localStorage.getItem("PoSData"))||{numOfItems:0,names:[],prices:[],theme:"system",settings:{show_order_summary:!0,change_calculator:!0}},{numOfItems:y=0,names:w=[],prices:I=[],theme:_="system",settings:q={show_order_summary:!0,change_calculator:!0}}=pe,R;G(y);window.onload=function(){E=document.querySelector(".edit");let e=document.querySelector(".finished"),t=document.querySelector(".add"),r=document.querySelector(".order"),n=document.querySelector(".complete"),a=document.querySelector("#cash"),i=document.querySelector("#total");K=document.getElementById("open-settings"),te=document.querySelectorAll(".theme-button"),U=document.getElementById("settings-modal"),a.addEventListener("keydown",Ae),e.addEventListener("click",C),t.addEventListener("click",xe),i.addEventListener("input",Ne),K.addEventListener("click",Te),n.addEventListener("click",Se),te.forEach(d=>{d.addEventListener("click",Ie)}),se(!0);for(var l=0;l<y;l++){let d=document.createElement("li");d.tabIndex=0,d.dataset.order=Number(l)+1,d.innerHTML=de(w[l],I[l],l),M[w[l]]=0,r.appendChild(d),ue(d)}S(r),document.querySelector(`[data-theme-name="${_}"`).disabled=!0,me(),D=document.querySelectorAll(".item-remove-button"),O=document.querySelectorAll(".item-edit-button"),Q(),E.addEventListener("click",d=>{let u=document.querySelector(".controls"),f=document.querySelectorAll("li");const b=document.body.dataset.inEdit,v=document.body.dataset.finishingOrder,p=document.body.dataset.blankOrder;v=="true"?ke(E):p=="false"?W():b=="true"?(k(K,"margin-bottom"),k(u),D.forEach(h=>{k(h),h.disabled=!0}),O.forEach(h=>{k(h),h.disabled=!0}),f.forEach(h=>h.tabIndex="0"),fe.option("disabled",!0),Me(),n.disabled=!1,document.body.dataset.inEdit=!1,document.removeEventListener("dblclick",oe)):(S(u),S(K),D.forEach(h=>{S(h),h.disabled=!1}),O.forEach(h=>{S(h),h.disabled=!1}),f.forEach(h=>h.tabIndex="-1"),fe.option("disabled",!1),Be(),n.disabled=!0,document.body.dataset.inEdit=!0,document.addEventListener("dblclick",oe))})};var T=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"});function Se(e){let t=e.target||e,r=document.querySelectorAll("li"),n=document.querySelector("#total").dataset.total,a=document.getElementById("order-summary-container"),i=E;const l=document.body.dataset.finishingOrder;if(n!="0")if(q.show_order_summary==!1)W();else if(l=="true")W(),S(document.querySelector(".order")),k(a,"margin-top"),q.change_calculator!=!1&&k(document.querySelector(".change-container"),"margin-top"),r.forEach(d=>d.tabIndex="0"),r[0].focus(),document.body.dataset.finishingOrder="false",t.firstElementChild.innerText="Complete";else{for(r.forEach(u=>u.tabIndex="-1"),document.body.dataset.finishingOrder="true",k(document.querySelector(".order"),"margin-top");a.firstChild;)a.removeChild(a.firstChild);let d=0;for(const[u,f]of Object.entries(M))f!=0&&(a.appendChild(Oe(u,f)),d++);_e(d),S(a),q.change_calculator!=!1&&(De(),S(document.querySelector(".change-container")),document.querySelector("input#cash").focus(),document.querySelector("input#cash").scrollIntoView()),i.firstElementChild.innerText="Back",t.firstElementChild.innerText="Finish"}}function ke(e){let t=document.querySelectorAll("li"),r=e.nextElementSibling;S(document.querySelector(".order")),k(document.querySelector(".change-container"),"margin-top"),k(document.getElementById("order-summary-container"),"margin-top"),t.forEach(n=>n.tabIndex="0"),t[0].focus(),document.body.dataset.finishingOrder="false",e.firstElementChild.innerText="Clear",r.firstElementChild.innerText="Complete"}function W(){let e=document.querySelector("#total");document.querySelectorAll('[name="Quantity"]').forEach(t=>{t.classList.add("fadeout"),e.classList.add("fadeout"),setTimeout(function(){t.value=0,t.classList.remove("fadeout"),e.classList.remove("fadeout"),t.dispatchEvent(new Event("input"))},125)})}function re(){let e=document.querySelectorAll("li");for(var t=1;t<=y;t++){let r=e[t-1],n=r.firstElementChild,a=r.children[1];r.dataset.order=t,n.dataset.order=t-.75,a.dataset.order=t-.25}Q()}function qe(e){let t=e.target||e,r=t.parentElement,n=t.parentElement.querySelector("input"),a=document.querySelector("#total"),{name:i,price:l,quantity:d}=n.dataset,{total:u}=a.dataset,f=Number(u)-d*l,b=r.dataset.order;w.splice(b-1,1),I.splice(b-1,1),a.value=T.format(f),a.dataset.total=f,y=Number(y)-1,delete M[i],console.log(M),G(y),r.classList.add("remove"),r.addEventListener("transitionend",function(p){p.propertyName=="margin-top"&&(r.outerHTML="",re())}),H(),D=document.querySelectorAll(".item-remove-button"),O=document.querySelectorAll(".item-edit-button")}function Le(e){let t=e.target||e,r=document.querySelector("#total"),n=t.value,{name:a,price:i,quantity:l}=t.dataset,{total:d}=r.dataset;M[a]=n;let u=Number(d)+n*i-l*i;r.value=T.format(u),r.dispatchEvent(new Event("input")),r.dataset.total=u,t.dataset.quantity=n}function we(e){e.stopPropagation();let t=document.querySelector(".modal-edit-item");j(),document.body.dataset.currentModal="editing",S(t);let n=(e.target||e).nextElementSibling,a=t.querySelector(".x-button"),i=document.querySelector("#cancel-edit-item"),l=document.querySelector("#confirm-edit-item"),d=document.querySelector("#edited-item-name"),u=document.querySelector("#edited-item-price");d.value=n.innerText,u.value=n.dataset.price,d.focus(),a.addEventListener("click",P),i.addEventListener("click",function(){k(t),a.removeEventListener("click",P),l.removeEventListener("click",ie),d.value="",u.value="",z(),document.body.dataset.currentModal=""},{once:!0}),l.addEventListener("click",ie),l.dataset.previousItemName=n.innerText,l.dataset.previousPrice=n.dataset.price}function Te(e){e.stopPropagation();let t=U;j(),document.body.dataset.currentModal="settings",S(t);let r=t.querySelector(".x-button"),n=t.querySelector(".cancel"),a=t.querySelector(".confirm");r.addEventListener("click",P),n.addEventListener("click",function(){k(t),r.removeEventListener("click",P),a.removeEventListener("click",ce),se(),R=F({},q),z(),document.body.dataset.currentModal=""},{once:!0}),a.addEventListener("click",ce)}function xe(e){e.stopPropagation();let t=document.querySelector(".modal-add-item");j(),document.body.dataset.currentModal="adding",S(t);let r=t.querySelector(".x-button"),n=t.querySelector("#cancel-add-item"),a=t.querySelector("#confirm-add-item"),i=t.querySelector("#add-item-name"),l=t.querySelector("#add-item-price");i.focus(),r.addEventListener("click",P),n.addEventListener("click",function(){k(t),r.removeEventListener("click",P),a.removeEventListener("click",le),i.value="",l.value="",z(),document.body.dataset.currentModal=""},{once:!0}),a.addEventListener("click",le)}function Ie(e){document.querySelector(`[data-theme-name="${_}"`).disabled=!1,e.currentTarget.disabled=!0,_=e.currentTarget.dataset.themeName,document.documentElement.dataset.theme=_,H(),Ke(),me()}function Ce(e){let t=e.currentTarget;R[t.id]=t.checked}function Ne(e){console.log(e.target);let t=e.target.value;t=="$0.00"?(document.body.dataset.blankOrder="true",E.firstElementChild.innerText="Edit"):t!="$0.00"&&(document.body.dataset.blankOrder="false",E.firstElementChild.innerText="Clear")}function Ae(e){let t=e.target,r=t.parentElement.nextElementSibling.children[1];e.code=="Escape"||e.code=="Enter"||e.metaKey||e.ctrlKey||(e.preventDefault(),e.stopPropagation(),!(!isFinite(e.key)&&e.code!="Backspace"&&e.code!="Period")&&(isFinite(e.key)?t.value=T.format(Number(t.value.replace(/[^0-9.-]+/g,"")*10)+e.key/100):e.altKey&&e.code=="Backspace"?t.value=T.format(0):e.code=="Backspace"?t.value=T.format(Math.floor(Number(t.value.replace(/[^0-9.-]+/g,"")*10))/100):t.value=T.format(Number(t.value.replace(/[^0-9.-]+/g,"")*100)),r.value=T.format(Number(t.value.replace(/[^0-9.-]+/g,""))-document.querySelector("#total").dataset.total)))}function ne(e){let r=(e.target||e).previousElementSibling;r.stepUp(),r.dispatchEvent(new Event("input"))}function ae(e){let r=(e.target||e).nextElementSibling;r.stepDown(),r.dispatchEvent(new Event("input"))}function P(){let e=document.body.dataset.currentModal;e=="adding"?document.querySelector("#cancel-add-item").click():e=="editing"?document.querySelector("#cancel-edit-item").click():e=="settings"&&document.getElementById("cancel-settings-change").click()}function oe(e){document.body.dataset.currentModal?e.target.closest(".modal")||P():!e.target.closest(".container")&&!e.target.closest("#theme-picker")&&!e.target.closest(".modal")&&C()}function De(){document.querySelector("#change").value="$0.00",document.querySelector("#cash").value="$0.00"}function ie(e){let t=document.querySelector(".modal-edit-item"),r=document.querySelector("#cancel-edit-item"),n=document.querySelector("#edited-item-name"),a=document.querySelector("#edited-item-price");if(!n.value.trim().length||!a.value.length)r.dispatchEvent(new Event("click"));else{let i=w.indexOf(e.currentTarget.dataset.previousItemName),l=document.querySelector('[data-order="'+Number(i+1)+'"'),d=T.formatToParts(a.value);if(d[1].type==="nan"){document.activeElement.blur();let f=document.querySelector("#alert-error");t.classList.add("modal-shake"),confirm.disabled=!0,f.textContent="Enter a valid price for "+n.value,f.classList.add("show"),g.errorTimer&&clearTimeout(g.errorTimer),g.errorTimer=setTimeout($,2500),t.addEventListener("animationend",function b(){t.removeEventListener("animationend",b),t.classList.remove("modal-shake"),confirm.disabled=!1,a.focus()});return}d[1].value=d[1].value||"";let u=d[1].value+d[2].value+d[3].value;if(document.getElementById(n.value.toLowerCase()+"_"+u)){document.activeElement.blur();let f=document.querySelector("#alert-error");t.classList.add("modal-shake"),confirm.disabled=!0,f.textContent="Item already exists",f.classList.add("show"),g.errorTimer&&clearTimeout(g.errorTimer),g.errorTimer=setTimeout($,2500),t.addEventListener("animationend",function b(){t.removeEventListener("animationend",b),t.classList.remove("modal-shake"),confirm.disabled=!1,n.focus()});return}l.children[0].ariaLabel="Remove "+n.value+" Menu Item",l.children[1].ariaLabel="Edit "+n.value+" Menu Item",l.children[2].dataset.price=u,l.children[2].innerText=n.value,l.children[3].children[0].ariaLabel="Decrement "+n.value,l.children[3].children[1].ariaLabel="Number of "+n.value,l.children[3].children[1].id=n.value.toLowerCase(),l.children[3].children[1].dataset.price=u,l.children[3].children[2].ariaLabel="Increment "+n.value,w[i]=n.value,I[i]=u,H(),l.children[3].children[1].dispatchEvent(new Event("input")),r.dispatchEvent(new Event("click"))}}function ce(e){let r=e.currentTarget.parentElement.parentElement.querySelector(".cancel");q=F({},R),H(),r.dispatchEvent(new Event("click"))}function le(e){let t=document.querySelector(".modal-add-item"),r=document.querySelector(".order"),n=e.currentTarget,a=document.querySelector("#cancel-add-item"),i=document.querySelector("#add-item-name"),l=document.querySelector("#add-item-price");if(!i.value.trim().length&&!l.value.length)a.dispatchEvent(new Event("click"));else if(i.value.trim().length)if(l.value.length){let d=T.formatToParts(l.value);if(d[1].type==="nan"){document.activeElement.blur();let b=document.querySelector("#alert-error");t.classList.add("modal-shake"),n.disabled=!0,b.textContent="Enter a valid price for "+i.value,b.classList.add("show"),g.errorTimer&&clearTimeout(g.errorTimer),g.errorTimer=setTimeout($,2500),t.addEventListener("animationend",function v(){t.removeEventListener("animationend",v),t.classList.remove("modal-shake"),n.disabled=!1,l.focus()});return}d[1].value=d[1].value||"";let u=d[1].value+d[2].value+d[3].value;if(document.getElementById(i.value.toLowerCase()+"_"+u)){document.activeElement.blur();let b=document.querySelector("#alert-error");t.classList.add("modal-shake"),n.disabled=!0,b.textContent="Item already exists",b.classList.add("show"),g.errorTimer&&clearTimeout(g.errorTimer),g.errorTimer=setTimeout($,2500),t.addEventListener("animationend",function v(){t.removeEventListener("animationend",v),t.classList.remove("modal-shake"),n.disabled=!1,i.focus()});return}let f=document.createElement("li");f.tabIndex="-1",f.dataset.order=Number(y)+1,f.innerHTML=de(i.value,u,y),r.appendChild(f),w[y]=i.value,I[y]=u,y=Number(y)+1,M[i.value]=0,console.log(M),G(y),H(),i.value="",l.value="",Q(),Array.from(r.lastChild.lastChild.children).forEach(b=>{b.disabled=!0}),ue(f),D=document.querySelectorAll(".item-remove-button"),O=document.querySelectorAll(".item-edit-button"),i.focus()}else{document.activeElement.blur();let d=document.querySelector("#alert-error");t.classList.add("modal-shake"),n.disabled=!0,d.textContent="Please enter a price for "+i.value,d.classList.add("show"),g.errorTimer&&clearTimeout(g.errorTimer),g.errorTimer=setTimeout($,2500),t.addEventListener("animationend",function u(){t.removeEventListener("animationend",u),t.classList.remove("modal-shake"),n.disabled=!1,l.focus()});return}else{document.activeElement.blur();let d=document.querySelector("#alert-error");t.classList.add("modal-shake"),n.disabled=!0,d.textContent="Please enter an item name",d.classList.add("show"),g.errorTimer&&clearTimeout(g.errorTimer),g.errorTimer=setTimeout($,2500),t.addEventListener("animationend",function u(){t.removeEventListener("animationend",u),t.classList.remove("modal-shake"),n.disabled=!1,i.focus()});return}}function Oe(e,t){let r=document.createElement("div"),n=document.createElement("h1"),a=document.createElement("h1");return r.classList.add("summary-item-entry"),n.innerText=e,a.innerText=t,r.appendChild(n),r.appendChild(document.createElement("hr")),r.appendChild(a),r}function de(e,t,r){const n=X(e),a=X(t),i=X(r);return`<button aria-label="Remove ${n} Menu Item" class="menu-item-control x-button item-remove-button hidden" data-order="${Number(i)+.25}" tabindex="0" disabled></button>
        <button aria-label="Edit ${n} Menu Item" class="menu-item-control item-edit-button hidden" data-order="${Number(i)+.75}" tabindex="0" disabled>
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                <path d="M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"></path>
            </svg>
        </button>
        <h2 data-price="${a}">${n}</h2>
        <div class="quantity">
            <button aria-label="Decrement ${n}" class="decrement" tabindex="-1"></button>
            <input aria-label="Number of ${n}" type="number" pattern="[0-9]*" inputmode="numeric" data-name="${n}" data-price="${a}" data-quantity="0" min="0" max="99" value="0" name="Quantity" id="${n.toLowerCase()}_${a}" tabindex="-1">
            <button aria-label="Increment ${n}" class="increment" tabindex="-1"></button>
        </div>`}function Q(){E.dataset.order=Number(y)+1,E.nextElementSibling.dataset.order=Number(y)+2}function se(e=!1){e&&(q.show_order_summary==null&&(q.show_order_summary=!0),q.change_calculator==null&&(q.change_calculator=!0),R=F({},q)),console.log(q);for(const[t,r]of Object.entries(q)){let n=document.getElementById(t);n.checked=r,e&&n.addEventListener("click",Ce)}}function ue(e){let t=e.querySelector(".item-remove-button"),r=e.querySelector(".item-edit-button"),n=e.querySelector(".increment"),a=e.querySelector(".decrement"),i=e.querySelector("input");t.addEventListener("click",qe),r.addEventListener("click",we),n.addEventListener("click",ne),a.addEventListener("click",ae),i.addEventListener("input",Le)}function j(){let e=document.querySelector("body"),t=document.querySelector(".controls").children;D.forEach(r=>{k(r),r.disabled=!0}),O.forEach(r=>{k(r),r.disabled=!0}),e.classList.add("no-scroll"),t[0].disabled=!0,t[1].disabled=!0,K.disabled=!0,E.disabled=!0}function z(){let e=document.querySelector("body"),t=document.querySelector(".controls").children;D.forEach(r=>{S(r),r.disabled=!1}),O.forEach(r=>{S(r),r.disabled=!1}),e.classList.remove("no-scroll"),t[0].disabled=!1,t[1].disabled=!1,K.disabled=!1,E.disabled=!1}function S(e){e.classList.remove("hidden"),e.offsetWidth,e.classList.add("show")}function k(e,t="any"){e.classList.remove("show"),e.addEventListener("transitionend",function r(n){(t=="any"||n.propertyName==t)&&!e.matches(".show")&&(e.classList.add("hidden"),e.removeEventListener("transitionend",r))})}function Be(){Array.from(document.querySelectorAll(".quantity")).forEach(e=>{Array.from(e.children).forEach(t=>{t.disabled=!0})})}function Me(){Array.from(document.querySelectorAll(".quantity")).forEach(e=>{Array.from(e.children).forEach(t=>{t.disabled=!1})})}function Pe(e,t){let r=w[e],n=I[e];w.splice(e,1),I.splice(e,1),w.splice(t,0,r),I.splice(t,0,n),H(),re()}function J(e){var t=e.getBoundingClientRect(),r=Math.max(document.documentElement.clientHeight,window.innerHeight);return!(t.bottom>0&&t.bottom<=r-Number(getComputedStyle(document.body).getPropertyValue("--safe-area-bottom").split("px")[0])&&t.top>0+Number(getComputedStyle(document.body).getPropertyValue("--safe-area-top").split("px")[0])&&t.top<=r)}function Ke(){switch(_){case"light":document.querySelector('meta[name="theme-color"]').setAttribute("content","#ffffff");break;case"dark":document.querySelector('meta[name="theme-color"]').setAttribute("content","#1c1c1c");break;case"system":window.matchMedia?window.matchMedia("(prefers-color-scheme: light").matches?document.querySelector('meta[name="theme-color"]').setAttribute("content","#ffffff"):window.matchMedia("(prefers-color-scheme: dark").matches?document.querySelector('meta[name="theme-color"]').setAttribute("content","#1c1c1c"):document.querySelector('meta[name="theme-color"]').setAttribute("content",window.getComputedStyle(document.body).getPropertyValue("background-color")):document.querySelector('meta[name="theme-color"]').setAttribute("content","#1c1c1c");break}}function me(){let e=Number(U.dataset.items)-4;[...document.getElementById("theme-picker").children].forEach(t=>{t.disabled?t.dataset.settingOrder="-1":t.dataset.settingOrder=e++})}function G(e){document.querySelector(":root").style.setProperty("--num-of-items",Number(e))}function _e(e){document.querySelector(":root").style.setProperty("--order-num-of-items",Number(e))}function C(){E.dispatchEvent(new Event("click"))}function $e(){if(B.keyPressedCurrently=!1,B.keyPressedCurrently==!1){let e=document.querySelector("#alert-default");e.classList.remove("show"),e.addEventListener("transitionend",function t(r){r.propertyName==="opacity"&&!e.matches(".show")&&(e.textContent="",e.removeEventListener("transitionend",t))})}}function $(){let e=document.querySelector("#alert-error");e.classList.remove("show"),e.addEventListener("transitionend",function t(r){r.propertyName==="opacity"&&!e.matches(".show")&&(e.textContent="",e.removeEventListener("transitionend",t))})}function H(){localStorage.setItem("PoSData",JSON.stringify({numOfItems:y,names:w,prices:I,theme:_,settings:q}))}function X(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function N(e,t){let r=document.querySelector('[data-order="'+(Number(e)-t)+'"]');r.focus(),J(r)&&r.scrollIntoView()}function x(e,t){let r=document.querySelector('[data-order="'+(Number(e)+t)+'"]');r.focus(),J(r)&&r.scrollIntoView()}function V(e=1){let t=document.querySelector(`[data-setting-order="${e}"]`);t.focus(),J(t)&&t.scrollIntoView()}document.addEventListener("keydown",e=>{const t="ArrowUp",r="ArrowLeft",n="ArrowDown",a="ArrowRight",i="KeyW",l="KeyA",d="KeyS",u="KeyD",f="Enter",b="Backspace",v="Escape",p=1,h=.5,o=document.activeElement,Y=document.body.dataset.inEdit,ye=document.body.dataset.finishingOrder,A=document.body.dataset.currentModal;let s=e.code;if(!s||s.indexOf("Numpad")!=-1||s.indexOf("Digit")!=-1)switch(s=e.key,e.key){case"w":case"W":s=i;break;case"a":case"A":s=l;break;case"s":case"S":s=d;break;case"d":case"D":s=u;break}if(!(o instanceof HTMLInputElement&&s!=v&&!o.parentElement.matches(".modal-content")&&!o.parentElement.matches(".setting-entry")&&!o.matches("input#cash"))){if(B.showKeys){let c="",m=e.key;s.indexOf("Key")!=-1?m=m.toUpperCase():s=="ArrowUp"?m="\u2191":s=="ArrowLeft"?m="\u2190":s=="ArrowRight"?m="\u2192":s=="ArrowDown"&&(m="\u2193"),console.log("press.key: "+e.key+", press.code: "+e.code+", displayKey: "+m),e.ctrlKey?(c=L.control,e.shiftKey&&(c+=" "+L.shift),e.altKey&&(c+=" "+L.alt),e.metaKey&&(c+=" "+L.meta),e.key!="Control"&&e.key!="Meta"&&e.key!="Alt"&&e.key!="Shift"?m=c+" + "+m:m=c):e.metaKey?(c=L.meta,e.shiftKey&&(c+=" "+L.shift),e.altKey&&(c+=" "+L.alt),e.key!="Control"&&e.key!="Meta"&&e.key!="Alt"&&e.key!="Shift"?m=c+" + "+m:m=c):e.altKey&&(c=L.alt,e.shiftKey&&(c+=" "+L.shift),e.key!="Control"&&e.key!="Meta"&&e.key!="Alt"&&e.key!="Shift"?m=c+" + "+m:m=c),document.querySelector("#alert-default").textContent=m,B.keyPressedCurrently==!0?clearTimeout(g.hideKeyPressTimer):(document.querySelector("#alert-default").classList.add("show"),B.keyPressedCurrently=!0),g.hideKeyPressTimer=setTimeout($e,2500)}if(e.altKey&&s=="KeyK"){B.showKeys=!B.showKeys;return}if(ye=="true")if(document.activeElement.isContentEditable,o.parentElement.matches(".footer")){const c=o.dataset.order;switch(s){case r:case l:c!=Number(y)+1&&N(c,p);break;case a:case u:c!=Number(y)+2&&x(c,p);break;case v:case b:E.click()}}else switch(s){case r:case l:case a:case u:E.focus();break;case v:case b:E.click();break;case f:document.querySelector(".complete").click()}else if(Y!="true"){if(s==v){E.click();return}if(o.matches("li")){const c=o.dataset.order;if(isFinite(s)){let m=o.querySelector("input");m.value=m.value=="0"?s:m.value.slice(0,-1)+s,m.dispatchEvent(new Event("input"))}else switch(s){case t:case i:c!=1&&N(c,p),e.preventDefault();break;case n:case d:x(c,p),e.preventDefault();break;case r:case l:ae(o.querySelector(".decrement"));break;case a:case u:ne(o.querySelector(".increment"));break;case f:document.querySelector(".complete").click();break;case b:let m=o.querySelector("input");m.value=m.value.length==1?0:m.value.slice(0,-1),m.dispatchEvent(new Event("input"));break}}else if(o.parentElement.matches(".footer")){const c=o.dataset.order;switch(s){case t:case i:document.querySelector('[data-order="'+y+'"]').focus(),e.preventDefault();break;case r:case l:c!=Number(y)+1&&N(c,p);break;case a:case u:c!=Number(y)+2&&x(c,p);break}}else s==t||s==n||s==r||s==a||s==i||s==d||s==l||s==u?(document.querySelector('[data-order="1"]').focus(),e.preventDefault()):s==f&&document.querySelector(".complete").click()}else if(A=="settings"){let c=o.dataset.settingOrder,m=Number(U.dataset.items)-1;if(c==null){switch(s){case f:document.getElementById("confirm-settings-change").click();break;case v:document.getElementById("cancel-settings-change").click();break}V();return}switch(console.log(c),s){case t:case i:if(c=="0")return;V(Number(c)-1);break;case n:case d:if(c==m)return;V(Number(c)+1);break;case r:case l:o.matches('input[type="checkbox"]')?o.checked==!0&&o.click():c!="0"&&V(Number(c)-1);break;case a:case u:o.matches('input[type="checkbox"]')?o.checked==!1&&o.click():c!=m&&V(Number(c)+1);break;case f:(o.matches('input[type="checkbox"]')||o.disabled==!0)&&document.getElementById("confirm-settings-change").click();break;case v:document.getElementById("cancel-settings-change").click();break}}else if(A=="adding"||A=="editing")switch(s){case t:o.matches("#add-item-name")||o.matches("#edited-item-name")?o.parentElement.previousElementSibling.focus():o.matches("#add-item-price")||o.matches("#edited-item-price")?o.previousElementSibling.previousElementSibling.focus():(o.matches(".cancel")||o.matches(".confirm"))&&o.parentElement.previousElementSibling.children[3].focus();break;case r:o.matches(".cancel")?(o.parentElement.previousElementSibling.children[3].focus(),e.preventDefault()):o.matches(".confirm")&&(o.previousElementSibling.focus(),e.preventDefault());break;case n:o.matches(".x-button")?o.nextElementSibling.children[1].focus():o.matches("#add-item-name")||o.matches("#edited-item-name")?o.nextElementSibling.nextElementSibling.focus():o.matches("#add-item-price")||o.matches("#edited-item-price")?o.parentElement.nextElementSibling.children[0].focus():o.matches(".cancel")&&o.nextElementSibling.focus();break;case a:o.matches(".x-button")?(o.nextElementSibling.children[1].focus(),e.preventDefault()):o.matches(".cancel")&&(o.nextElementSibling.focus(),e.preventDefault());break;case f:o.matches("#add-item-name")||o.matches("#edited-item-name")?o.nextElementSibling.nextElementSibling.focus():(o.matches("#add-item-price")||o.matches("#edited-item-price"))&&(A=="adding"?document.querySelector("#confirm-add-item").click():A=="editing"&&document.querySelector("#confirm-edit-item").click());break;case v:A=="adding"?document.querySelector("#cancel-add-item").click():A=="editing"&&document.querySelector("#cancel-edit-item").click();break}else if(Y=="true")if(o.matches(".item-remove-button")){const c=o.dataset.order;switch(s){case t:case i:N(c,p),e.preventDefault();break;case n:case d:c!=Number(y)-.75?x(c,p):E.focus(),e.preventDefault();break;case a:case u:x(c,h),e.preventDefault();break;case r:e.preventDefault();break;case v:C();break}}else if(o.matches(".item-edit-button")){const c=o.dataset.order;switch(s){case t:case i:N(c,p),e.preventDefault();break;case n:case d:c!=Number(y)-.25?x(c,p):E.focus(),e.preventDefault();break;case r:case l:N(c,h),e.preventDefault();break;case a:e.preventDefault();break;case v:C();break}}else if(o.parentElement.matches(".controls")){const c=o.dataset.order;switch(s){case t:case i:N(-.75,h),e.preventDefault();break;case n:case d:x(c,p),e.preventDefault();break;case r:case l:c!=-.75&&N(c,h);break;case a:case u:c!=-.25&&x(c,h);break;case v:C();break}}else if(o.matches(".setting-svg-container")){const c=o.dataset.order;switch(s){case n:case d:x(c,p),e.preventDefault();break;case v:C();break}}else o.matches(".edit")?s==t||s==i?(document.querySelector('[data-order="'+(Number(y)-.75)+'"]').focus(),e.preventDefault()):s==v&&C():s==t||s==n||s==r||s==a||s==i||s==d||s==l||s==u?(document.querySelector('[data-order="0.25"]').focus(),e.preventDefault()):s==v&&C()}});var L={meta:"Meta",alt:"Alt",control:"Ctrl",shift:"Shift"};/(Mac|iPhone|iPod|iPad)/i.test(navigator.userAgent)&&(L.meta="\u2318",L.alt="\u2325",L.control="\u2303",L.shift="\u21E7");var fe=ge.create(document.querySelector("ul"),{onStart:function(){document.querySelector(".price_footer").classList.add("dragging")},onEnd:function(e){document.querySelector(".price_footer").classList.remove("dragging"),Pe(e.oldIndex,e.newIndex)},disabled:!0,filter:".menu-item-control, .menu-item-control svg",preventOnFilter:!1,animation:250});
