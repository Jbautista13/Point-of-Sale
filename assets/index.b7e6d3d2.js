var be=Object.defineProperty;var Z=Object.getOwnPropertySymbols;var ve=Object.prototype.hasOwnProperty,ge=Object.prototype.propertyIsEnumerable;var ee=(e,t,r)=>t in e?be(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,R=(e,t)=>{for(var r in t||(t={}))ve.call(t,r)&&ee(e,r,t[r]);if(Z)for(var r of Z(t))ge.call(t,r)&&ee(e,r,t[r]);return e};import{S as pe}from"./vendor.c27de078.js";const Ee=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerpolicy&&(i.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?i.credentials="include":a.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}};Ee();var B,M,te,p,$,P={showKeys:!1,keyPressedCurrently:!1},v={hideKeyPressTimer:null,errorTimer:null},w={},U,Se=JSON.parse(localStorage.getItem("PoSData"))||{numOfItems:0,names:[],prices:[],theme:"system",settings:{show_order_summary:!0,change_calculator:!0}},{numOfItems:y=0,names:T=[],prices:x=[],theme:_="system",settings:q={show_order_summary:!0,change_calculator:!0}}=Se,Q;X(y);window.onload=function(){p=document.querySelector(".edit");let e=document.querySelector(".finished"),t=document.querySelector(".add"),r=document.querySelector("#order"),n=document.querySelector(".complete"),a=document.querySelector("#cash"),i=document.querySelector("#total");$=document.getElementById("open-settings"),te=document.querySelectorAll(".theme-button"),U=document.getElementById("settings-modal"),a.addEventListener("keydown",Oe),e.addEventListener("click",N),t.addEventListener("click",Ie),i.addEventListener("input",Ae),$.addEventListener("click",xe),n.addEventListener("click",ke),te.forEach(m=>{m.addEventListener("click",Ce)}),se(!0);for(var l=0;l<y;l++){let m=document.createElement("li");m.tabIndex=0,m.dataset.order=Number(l)+1,m.innerHTML=de(T[l],x[l],l),w[`${T[l]}_${x[l]}`]=0,r.appendChild(m),me(m)}console.log(w),S(r),document.querySelector(`[data-theme-name="${_}"`).disabled=!0,fe(),B=document.querySelectorAll(".item-remove-button"),M=document.querySelectorAll(".item-edit-button"),j(),p.addEventListener("click",m=>{let h=document.querySelector(".controls"),b=document.querySelectorAll("li");const E=document.body.dataset.inEdit,O=document.body.dataset.finishingOrder,o=document.body.dataset.blankOrder;O=="true"?qe(p):o=="false"?W():E=="true"?(k($,"margin-bottom"),k(h),B.forEach(g=>{k(g),g.disabled=!0}),M.forEach(g=>{k(g),g.disabled=!0}),b.forEach(g=>g.tabIndex="0"),ye.option("disabled",!0),Ke(),n.disabled=!1,document.body.dataset.inEdit=!1,document.removeEventListener("dblclick",oe)):(S(h),S($),B.forEach(g=>{S(g),g.disabled=!1}),M.forEach(g=>{S(g),g.disabled=!1}),b.forEach(g=>g.tabIndex="-1"),ye.option("disabled",!1),Pe(),n.disabled=!0,document.body.dataset.inEdit=!0,document.addEventListener("dblclick",oe))});const s=document.querySelector(".price_footer");new IntersectionObserver(([m])=>m.target.classList.toggle("expand",m.intersectionRatio<1),{threshold:[1],rootMargin:"-1px"}).observe(s)};var I=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"});function ke(e){let t=e.target||e,r=document.querySelectorAll("li"),n=document.querySelector("#total").dataset.total,a=document.getElementById("order-summary-container"),i=p;const l=document.body.dataset.finishingOrder==="true";if(n!="0")if(!q.show_order_summary)W();else if(l)W(),S(document.querySelector("#order")),k(a,"margin-top"),q.change_calculator&&k(document.querySelector(".change-container"),"margin-top"),r.forEach(s=>s.tabIndex="0"),r[0].focus(),document.body.dataset.finishingOrder="false",t.firstElementChild.innerText="Complete";else{for(r.forEach(u=>u.tabIndex="-1"),document.body.dataset.finishingOrder="true",k(document.querySelector("#order"),"margin-top");a.firstChild;)a.removeChild(a.firstChild);let s=0;for(const[u,m]of Object.entries(w))m!=0&&(a.appendChild(Be(u,m)),s++);He(s),S(a),q.change_calculator!=!1&&(De(),S(document.querySelector(".change-container")),document.querySelector("input#cash").focus(),document.querySelector("input#cash").scrollIntoView()),i.firstElementChild.innerText="Back",t.firstElementChild.innerText="Finish"}}function qe(e){let t=document.querySelectorAll("li"),r=e.nextElementSibling;S(document.querySelector("#order")),k(document.querySelector(".change-container"),"margin-top"),k(document.getElementById("order-summary-container"),"margin-top"),t.forEach(n=>n.tabIndex="0"),t[0].focus(),document.body.dataset.finishingOrder="false",e.firstElementChild.innerText="Clear",r.firstElementChild.innerText="Complete"}function W(){let e=document.querySelector("#total");document.querySelectorAll('[name="Quantity"]').forEach(t=>{t.classList.add("fadeout"),e.classList.add("fadeout"),setTimeout(function(){t.value=0,t.classList.remove("fadeout"),e.classList.remove("fadeout"),t.dispatchEvent(new Event("input"))},125)})}function re(){let e=document.querySelectorAll("li");for(var t=1;t<=y;t++){let r=e[t-1],n=r.firstElementChild,a=r.children[1];r.dataset.order=t,n.dataset.order=t-.75,a.dataset.order=t-.25}j()}function Le(e){let t=e.target||e,r=t.parentElement,n=t.parentElement.querySelector("input"),a=document.querySelector("#total"),{name:i,price:l,quantity:s}=n.dataset,{total:u}=a.dataset,m=Number(u)-s*l,h=r.dataset.order;T.splice(h-1,1),x.splice(h-1,1),a.value=I.format(m),a.dataset.total=m,y=Number(y)-1,delete w[`${i}_${l}`],console.log(w),X(y),r.classList.add("remove"),r.addEventListener("transitionend",function(E){E.propertyName=="margin-top"&&(r.outerHTML="",re())}),V(),B=document.querySelectorAll(".item-remove-button"),M=document.querySelectorAll(".item-edit-button")}function we(e){let t=e.target||e,r=document.querySelector("#total"),n=t.value,{name:a,price:i,quantity:l}=t.dataset,{total:s}=r.dataset;w[`${a}_${i}`]=n;let u=Number(s)+n*i-l*i;r.value=I.format(u),r.dispatchEvent(new Event("input")),r.dataset.total=u,t.dataset.quantity=n}function Te(e){e.stopPropagation();let t=document.querySelector(".modal-edit-item");z(),document.body.dataset.currentModal="editing",S(t);let n=(e.target||e).nextElementSibling,a=t.querySelector(".x-button"),i=document.querySelector("#cancel-edit-item"),l=document.querySelector("#confirm-edit-item"),s=document.querySelector("#edited-item-name"),u=document.querySelector("#edited-item-price");s.value=n.innerText,u.value=n.dataset.price,s.focus(),a.addEventListener("click",K),i.addEventListener("click",function(){k(t),a.removeEventListener("click",K),l.removeEventListener("click",ie),s.value="",u.value="",J(),document.body.dataset.currentModal=""},{once:!0}),l.addEventListener("click",ie),l.dataset.previousItemName=n.innerText,l.dataset.previousPrice=n.dataset.price}function xe(e){e.stopPropagation();let t=U;z(),document.body.dataset.currentModal="settings",S(t);let r=t.querySelector(".x-button"),n=t.querySelector(".cancel"),a=t.querySelector(".confirm");r.addEventListener("click",K),n.addEventListener("click",function(){k(t),r.removeEventListener("click",K),a.removeEventListener("click",ce),se(),Q=R({},q),J(),document.body.dataset.currentModal=""},{once:!0}),a.addEventListener("click",ce)}function Ie(e){e.stopPropagation();let t=document.querySelector(".modal-add-item");z(),document.body.dataset.currentModal="adding",S(t);let r=t.querySelector(".x-button"),n=t.querySelector("#cancel-add-item"),a=t.querySelector("#confirm-add-item"),i=t.querySelector("#add-item-name"),l=t.querySelector("#add-item-price");i.focus(),r.addEventListener("click",K),n.addEventListener("click",function(){k(t),r.removeEventListener("click",K),a.removeEventListener("click",le),i.value="",l.value="",J(),document.body.dataset.currentModal=""},{once:!0}),a.addEventListener("click",le)}function Ce(e){document.querySelector(`[data-theme-name="${_}"`).disabled=!1,e.currentTarget.disabled=!0,_=e.currentTarget.dataset.themeName,document.documentElement.dataset.theme=_,V(),_e(),fe()}function Ne(e){let t=e.currentTarget;Q[t.id]=t.checked}function Ae(e){console.log(e.target);let t=e.target.value;t=="$0.00"?(document.body.dataset.blankOrder="true",p.firstElementChild.innerText="Edit"):t!="$0.00"&&(document.body.dataset.blankOrder="false",p.firstElementChild.innerText="Clear")}function Oe(e){let t=e.target,r=t.parentElement.nextElementSibling.children[1];e.code=="Escape"||e.code=="Enter"||e.metaKey||e.ctrlKey||(e.preventDefault(),e.stopPropagation(),!(!isFinite(e.key)&&e.code!="Backspace"&&e.code!="Period")&&(isFinite(e.key)?t.value=I.format(Number(t.value.replace(/[^0-9.-]+/g,"")*10)+e.key/100):e.altKey&&e.code=="Backspace"?t.value=I.format(0):e.code=="Backspace"?t.value=I.format(Math.floor(Number(t.value.replace(/[^0-9.-]+/g,"")*10))/100):t.value=I.format(Number(t.value.replace(/[^0-9.-]+/g,"")*100)),r.value=I.format(Number(t.value.replace(/[^0-9.-]+/g,""))-document.querySelector("#total").dataset.total)))}function ne(e){let r=(e.target||e).previousElementSibling;r.stepUp(),r.dispatchEvent(new Event("input"))}function ae(e){let r=(e.target||e).nextElementSibling;r.stepDown(),r.dispatchEvent(new Event("input"))}function K(){let e=document.body.dataset.currentModal;e=="adding"?document.querySelector("#cancel-add-item").click():e=="editing"?document.querySelector("#cancel-edit-item").click():e=="settings"&&document.getElementById("cancel-settings-change").click()}function oe(e){document.body.dataset.currentModal?e.target.closest(".modal")||K():!e.target.closest(".container")&&!e.target.closest("#theme-picker")&&!e.target.closest(".modal")&&N()}function De(){document.querySelector("#change").value="$0.00",document.querySelector("#cash").value="$0.00"}function ie(e){let t=document.querySelector(".modal-edit-item"),r=document.querySelector("#cancel-edit-item"),n=document.querySelector("#edited-item-name"),a=document.querySelector("#edited-item-price");if(!n.value.trim().length||!a.value.length)r.dispatchEvent(new Event("click"));else{let i=T.indexOf(e.currentTarget.dataset.previousItemName),l=document.querySelector('[data-order="'+Number(i+1)+'"'),s=I.formatToParts(a.value);if(s[1].type==="nan"){document.activeElement.blur();let m=document.querySelector("#alert-error");t.classList.add("modal-shake"),confirm.disabled=!0,m.textContent="Enter a valid price for "+n.value,m.classList.add("show"),v.errorTimer&&clearTimeout(v.errorTimer),v.errorTimer=setTimeout(H,2500),t.addEventListener("animationend",function h(){t.removeEventListener("animationend",h),t.classList.remove("modal-shake"),confirm.disabled=!1,a.focus()});return}s[1].value=s[1].value||"";let u=s[1].value+s[2].value+s[3].value;if(document.getElementById(n.value.toLowerCase()+"_"+u)){document.activeElement.blur();let m=document.querySelector("#alert-error");t.classList.add("modal-shake"),confirm.disabled=!0,m.textContent="Item already exists",m.classList.add("show"),v.errorTimer&&clearTimeout(v.errorTimer),v.errorTimer=setTimeout(H,2500),t.addEventListener("animationend",function h(){t.removeEventListener("animationend",h),t.classList.remove("modal-shake"),confirm.disabled=!1,n.focus()});return}l.children[0].ariaLabel="Remove "+n.value+" Menu Item",l.children[1].ariaLabel="Edit "+n.value+" Menu Item",l.children[2].dataset.price=u,l.children[2].innerText=n.value,l.children[3].children[0].ariaLabel="Decrement "+n.value,l.children[3].children[1].ariaLabel="Number of "+n.value,l.children[3].children[1].id=`${n.value.toLowerCase()}`,l.children[3].children[1].dataset.price=u,l.children[3].children[2].ariaLabel="Increment "+n.value,T[i]=n.value,x[i]=u,ue(),V(),l.children[3].children[1].dispatchEvent(new Event("input")),r.dispatchEvent(new Event("click"))}}function ce(e){let r=e.currentTarget.parentElement.parentElement.querySelector(".cancel");q=R({},Q),V(),r.dispatchEvent(new Event("click"))}function le(e){let t=document.querySelector(".modal-add-item"),r=document.querySelector("#order"),n=e.currentTarget,a=document.querySelector("#cancel-add-item"),i=document.querySelector("#add-item-name"),l=document.querySelector("#add-item-price");if(!i.value.trim().length&&!l.value.length)a.dispatchEvent(new Event("click"));else if(i.value.trim().length)if(l.value.length){let s=I.formatToParts(l.value);if(s[1].type==="nan"){document.activeElement.blur();let h=document.querySelector("#alert-error");t.classList.add("modal-shake"),n.disabled=!0,h.textContent="Enter a valid price for "+i.value,h.classList.add("show"),v.errorTimer&&clearTimeout(v.errorTimer),v.errorTimer=setTimeout(H,2500),t.addEventListener("animationend",function b(){t.removeEventListener("animationend",b),t.classList.remove("modal-shake"),n.disabled=!1,l.focus()});return}s[1].value=s[1].value||"";let u=s[1].value+s[2].value+s[3].value;if(document.getElementById(i.value.toLowerCase())){document.activeElement.blur();let h=document.querySelector("#alert-error");t.classList.add("modal-shake"),n.disabled=!0,h.textContent="Item already exists",h.classList.add("show"),v.errorTimer&&clearTimeout(v.errorTimer),v.errorTimer=setTimeout(H,2500),t.addEventListener("animationend",function b(){t.removeEventListener("animationend",b),t.classList.remove("modal-shake"),n.disabled=!1,i.focus()});return}let m=document.createElement("li");m.tabIndex="-1",m.dataset.order=Number(y)+1,m.innerHTML=de(i.value,u,y),r.appendChild(m),T[y]=i.value,x[y]=u,y=Number(y)+1,w[`${i.value}_${u}`]=0,console.log(w),X(y),V(),i.value="",l.value="",j(),Array.from(r.lastChild.lastChild.children).forEach(h=>{h.disabled=!0}),me(m),B=document.querySelectorAll(".item-remove-button"),M=document.querySelectorAll(".item-edit-button"),i.focus()}else{document.activeElement.blur();let s=document.querySelector("#alert-error");t.classList.add("modal-shake"),n.disabled=!0,s.textContent="Please enter a price for "+i.value,s.classList.add("show"),v.errorTimer&&clearTimeout(v.errorTimer),v.errorTimer=setTimeout(H,2500),t.addEventListener("animationend",function u(){t.removeEventListener("animationend",u),t.classList.remove("modal-shake"),n.disabled=!1,l.focus()});return}else{document.activeElement.blur();let s=document.querySelector("#alert-error");t.classList.add("modal-shake"),n.disabled=!0,s.textContent="Please enter an item name",s.classList.add("show"),v.errorTimer&&clearTimeout(v.errorTimer),v.errorTimer=setTimeout(H,2500),t.addEventListener("animationend",function u(){t.removeEventListener("animationend",u),t.classList.remove("modal-shake"),n.disabled=!1,i.focus()});return}}function Be(e,t){let r=document.createElement("div"),n=document.createElement("h1"),a=document.createElement("h1");return r.classList.add("summary-item-entry"),n.innerText=e.split("_")[0],n.dataset.price=I.format(Number(e.split("_")[1])).split("$")[1],a.innerText=t,r.appendChild(n),r.appendChild(document.createElement("hr")),r.appendChild(a),r}function de(e,t,r){const n=Y(e),a=Y(t),i=Y(r);return`<button aria-label="Remove ${n} Menu Item" class="menu-item-control x-button item-remove-button hidden" data-order="${Number(i)+.25}" tabindex="0" disabled></button>
        <button aria-label="Edit ${n} Menu Item" class="menu-item-control item-edit-button hidden" data-order="${Number(i)+.75}" tabindex="0" disabled>
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                <path d="M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"></path>
            </svg>
        </button>
        <h2 data-price="${a}">${n}</h2>
        <div class="quantity">
            <button aria-label="Decrement ${n}" class="decrement" tabindex="-1"></button>
            <input aria-label="Number of ${n}" type="number" pattern="[0-9]*" inputmode="numeric" data-name="${n}" data-price="${a}" data-quantity="0" min="0" max="99" value="0" name="Quantity" id="${n.toLowerCase()}" tabindex="-1">
            <button aria-label="Increment ${n}" class="increment" tabindex="-1"></button>
        </div>`}function j(){p.dataset.order=Number(y)+1,p.nextElementSibling.dataset.order=Number(y)+2}function se(e=!1){e&&(q.show_order_summary==null&&(q.show_order_summary=!0),q.change_calculator==null&&(q.change_calculator=!0),Q=R({},q)),console.log(q);for(const[t,r]of Object.entries(q)){let n=document.getElementById(t);n.checked=r,e&&n.addEventListener("click",Ne)}}function ue(){Me();for(var e=0;e<y;e++)w[`${T[e]}_${x[e]}`]=0}function Me(){for(var e in w)w.hasOwnProperty(e)&&delete w[e]}function me(e){let t=e.querySelector(".item-remove-button"),r=e.querySelector(".item-edit-button"),n=e.querySelector(".increment"),a=e.querySelector(".decrement"),i=e.querySelector("input");t.addEventListener("click",Le),r.addEventListener("click",Te),n.addEventListener("click",ne),a.addEventListener("click",ae),i.addEventListener("input",we)}function z(){let e=document.querySelector("body"),t=document.querySelector(".controls").children;B.forEach(r=>{k(r),r.disabled=!0}),M.forEach(r=>{k(r),r.disabled=!0}),e.classList.add("no-scroll"),t[0].disabled=!0,t[1].disabled=!0,$.disabled=!0,p.disabled=!0}function J(){let e=document.querySelector("body"),t=document.querySelector(".controls").children;B.forEach(r=>{S(r),r.disabled=!1}),M.forEach(r=>{S(r),r.disabled=!1}),e.classList.remove("no-scroll"),t[0].disabled=!1,t[1].disabled=!1,$.disabled=!1,p.disabled=!1}function S(e){e.classList.remove("hidden"),e.offsetWidth,e.classList.add("show")}function k(e,t="any"){e.classList.remove("show"),e.addEventListener("transitionend",function r(n){(t=="any"||n.propertyName==t)&&!e.matches(".show")&&(e.classList.add("hidden"),e.removeEventListener("transitionend",r))})}function Pe(){Array.from(document.querySelectorAll(".quantity")).forEach(e=>{Array.from(e.children).forEach(t=>{t.disabled=!0})})}function Ke(){Array.from(document.querySelectorAll(".quantity")).forEach(e=>{Array.from(e.children).forEach(t=>{t.disabled=!1})})}function $e(e,t){let r=T[e],n=x[e];T.splice(e,1),x.splice(e,1),T.splice(t,0,r),x.splice(t,0,n),V(),ue(),re()}function G(e){var t=e.getBoundingClientRect(),r=Math.max(document.documentElement.clientHeight,window.innerHeight);return!(t.bottom>0&&t.bottom<=r-Number(getComputedStyle(document.body).getPropertyValue("--safe-area-bottom").split("px")[0]+document.querySelector(".price_footer").getBoundingClientRect().height)&&t.top>0+Number(getComputedStyle(document.body).getPropertyValue("--safe-area-top").split("px")[0])&&t.top<=r)}function _e(){switch(_){case"light":document.querySelector('meta[name="theme-color"]').setAttribute("content","#ffffff");break;case"dark":document.querySelector('meta[name="theme-color"]').setAttribute("content","#1c1c1c");break;case"system":window.matchMedia?window.matchMedia("(prefers-color-scheme: light").matches?document.querySelector('meta[name="theme-color"]').setAttribute("content","#ffffff"):window.matchMedia("(prefers-color-scheme: dark").matches?document.querySelector('meta[name="theme-color"]').setAttribute("content","#1c1c1c"):document.querySelector('meta[name="theme-color"]').setAttribute("content",window.getComputedStyle(document.body).getPropertyValue("background-color")):document.querySelector('meta[name="theme-color"]').setAttribute("content","#1c1c1c");break}}function fe(){let e=Number(U.dataset.items)-4;[...document.getElementById("theme-picker").children].forEach(t=>{t.disabled?t.dataset.settingOrder="-1":t.dataset.settingOrder=e++})}function X(e){document.querySelector(":root").style.setProperty("--num-of-items",Number(e))}function He(e){document.querySelector(":root").style.setProperty("--order-num-of-items",Number(e))}function N(){p.dispatchEvent(new Event("click"))}function Ve(){if(P.keyPressedCurrently=!1,P.keyPressedCurrently==!1){let e=document.querySelector("#alert-default");e.classList.remove("show"),e.addEventListener("transitionend",function t(r){r.propertyName==="margin-top"&&!e.matches(".show")&&(e.textContent="",e.removeEventListener("transitionend",t))})}}function H(){let e=document.querySelector("#alert-error");e.classList.remove("show"),e.addEventListener("transitionend",function t(r){r.propertyName==="opacity"&&!e.matches(".show")&&(e.textContent="",e.removeEventListener("transitionend",t))})}function V(){localStorage.setItem("PoSData",JSON.stringify({numOfItems:y,names:T,prices:x,theme:_,settings:q}))}function Y(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function A(e,t){let r=document.querySelector('[data-order="'+(Number(e)-t)+'"]');r.focus(),G(r)&&r.scrollIntoView()}function C(e,t){let r=document.querySelector('[data-order="'+(Number(e)+t)+'"]');r.focus(),G(r)&&r.scrollIntoView()}function F(e=1){let t=document.querySelector(`[data-setting-order="${e}"]`);t.focus(),G(t)&&t.scrollIntoView()}document.addEventListener("keydown",e=>{const t="ArrowUp",r="ArrowLeft",n="ArrowDown",a="ArrowRight",i="KeyW",l="KeyA",s="KeyS",u="KeyD",m="Enter",h="Backspace",b="Escape",E=1,O=.5,o=document.activeElement,g=document.body.dataset.inEdit,he=document.body.dataset.finishingOrder,D=document.body.dataset.currentModal;let d=e.code;if(!d||d.indexOf("Numpad")!=-1||d.indexOf("Digit")!=-1)switch(d=e.key,e.key){case"w":case"W":d=i;break;case"a":case"A":d=l;break;case"s":case"S":d=s;break;case"d":case"D":d=u;break}if(!(o instanceof HTMLInputElement&&d!=b&&!o.parentElement.matches(".modal-content")&&!o.parentElement.matches(".setting-entry")&&!o.matches("input#cash"))){if(P.showKeys){let c="",f=e.key;d.indexOf("Key")!=-1?f=f.toUpperCase():d=="ArrowUp"?f="\u2191":d=="ArrowLeft"?f="\u2190":d=="ArrowRight"?f="\u2192":d=="ArrowDown"&&(f="\u2193"),console.log("press.key: "+e.key+", press.code: "+e.code+", displayKey: "+f),e.ctrlKey?(c=L.control,e.shiftKey&&(c+=" "+L.shift),e.altKey&&(c+=" "+L.alt),e.metaKey&&(c+=" "+L.meta),e.key!="Control"&&e.key!="Meta"&&e.key!="Alt"&&e.key!="Shift"?f=c+" + "+f:f=c):e.metaKey?(c=L.meta,e.shiftKey&&(c+=" "+L.shift),e.altKey&&(c+=" "+L.alt),e.key!="Control"&&e.key!="Meta"&&e.key!="Alt"&&e.key!="Shift"?f=c+" + "+f:f=c):e.altKey&&(c=L.alt,e.shiftKey&&(c+=" "+L.shift),e.key!="Control"&&e.key!="Meta"&&e.key!="Alt"&&e.key!="Shift"?f=c+" + "+f:f=c),document.querySelector("#alert-default").textContent=f,P.keyPressedCurrently==!0?clearTimeout(v.hideKeyPressTimer):(document.querySelector("#alert-default").classList.add("show"),P.keyPressedCurrently=!0),v.hideKeyPressTimer=setTimeout(Ve,2500)}if(e.altKey&&d=="KeyK"){P.showKeys=!P.showKeys;return}if(he=="true")if(document.activeElement.isContentEditable,o.parentElement.matches(".footer")){const c=o.dataset.order;switch(d){case r:case l:c!=Number(y)+1&&A(c,E);break;case a:case u:c!=Number(y)+2&&C(c,E);break;case b:case h:p.click()}}else switch(d){case r:case l:case a:case u:p.focus();break;case b:case h:p.click();break;case m:document.querySelector(".complete").click()}else if(g!="true"){if(d==b){p.click();return}if(o.matches("li")){const c=o.dataset.order;if(isFinite(d)){let f=o.querySelector("input");f.value=f.value=="0"?d:f.value.slice(0,-1)+d,f.dispatchEvent(new Event("input"))}else switch(d){case t:case i:c!=1&&A(c,E),e.preventDefault();break;case n:case s:C(c,E),e.preventDefault();break;case r:case l:ae(o.querySelector(".decrement"));break;case a:case u:ne(o.querySelector(".increment"));break;case m:document.querySelector(".complete").click();break;case h:let f=o.querySelector("input");f.value=f.value.length==1?0:f.value.slice(0,-1),f.dispatchEvent(new Event("input"));break}}else if(o.parentElement.matches(".footer")){const c=o.dataset.order;switch(d){case t:case i:document.querySelector('[data-order="'+y+'"]').focus(),e.preventDefault();break;case r:case l:c!=Number(y)+1&&A(c,E);break;case a:case u:c!=Number(y)+2&&C(c,E);break}}else d==t||d==n||d==r||d==a||d==i||d==s||d==l||d==u?(document.querySelector('[data-order="1"]').focus(),e.preventDefault()):d==m&&document.querySelector(".complete").click()}else if(D=="settings"){let c=o.dataset.settingOrder,f=Number(U.dataset.items)-1;if(c==null){switch(d){case m:document.getElementById("confirm-settings-change").click();break;case b:document.getElementById("cancel-settings-change").click();break}F();return}switch(console.log(c),d){case t:case i:if(c=="0")return;F(Number(c)-1);break;case n:case s:if(c==f)return;F(Number(c)+1);break;case r:case l:o.matches('input[type="checkbox"]')?o.checked==!0&&o.click():c!="0"&&F(Number(c)-1);break;case a:case u:o.matches('input[type="checkbox"]')?o.checked==!1&&o.click():c!=f&&F(Number(c)+1);break;case m:(o.matches('input[type="checkbox"]')||o.disabled==!0)&&document.getElementById("confirm-settings-change").click();break;case b:document.getElementById("cancel-settings-change").click();break}}else if(D=="adding"||D=="editing")switch(d){case t:o.matches("#add-item-name")||o.matches("#edited-item-name")?o.parentElement.previousElementSibling.focus():o.matches("#add-item-price")||o.matches("#edited-item-price")?o.previousElementSibling.previousElementSibling.focus():(o.matches(".cancel")||o.matches(".confirm"))&&o.parentElement.previousElementSibling.children[3].focus();break;case r:o.matches(".cancel")?(o.parentElement.previousElementSibling.children[3].focus(),e.preventDefault()):o.matches(".confirm")&&(o.previousElementSibling.focus(),e.preventDefault());break;case n:o.matches(".x-button")?o.nextElementSibling.children[1].focus():o.matches("#add-item-name")||o.matches("#edited-item-name")?o.nextElementSibling.nextElementSibling.focus():o.matches("#add-item-price")||o.matches("#edited-item-price")?o.parentElement.nextElementSibling.children[0].focus():o.matches(".cancel")&&o.nextElementSibling.focus();break;case a:o.matches(".x-button")?(o.nextElementSibling.children[1].focus(),e.preventDefault()):o.matches(".cancel")&&(o.nextElementSibling.focus(),e.preventDefault());break;case m:o.matches("#add-item-name")||o.matches("#edited-item-name")?o.nextElementSibling.nextElementSibling.focus():(o.matches("#add-item-price")||o.matches("#edited-item-price"))&&(D=="adding"?document.querySelector("#confirm-add-item").click():D=="editing"&&document.querySelector("#confirm-edit-item").click());break;case b:D=="adding"?document.querySelector("#cancel-add-item").click():D=="editing"&&document.querySelector("#cancel-edit-item").click();break}else if(g=="true")if(o.matches(".item-remove-button")){const c=o.dataset.order;switch(d){case t:case i:A(c,E),e.preventDefault();break;case n:case s:c!=Number(y)-.75?C(c,E):p.focus(),e.preventDefault();break;case a:case u:C(c,O),e.preventDefault();break;case r:e.preventDefault();break;case b:N();break}}else if(o.matches(".item-edit-button")){const c=o.dataset.order;switch(d){case t:case i:A(c,E),e.preventDefault();break;case n:case s:c!=Number(y)-.25?C(c,E):p.focus(),e.preventDefault();break;case r:case l:A(c,O),e.preventDefault();break;case a:e.preventDefault();break;case b:N();break}}else if(o.parentElement.matches(".controls")){const c=o.dataset.order;switch(d){case t:case i:A(-.75,O),e.preventDefault();break;case n:case s:C(c,E),e.preventDefault();break;case r:case l:c!=-.75&&A(c,O);break;case a:case u:c!=-.25&&C(c,O);break;case b:N();break}}else if(o.matches(".setting-svg-container")){const c=o.dataset.order;switch(d){case n:case s:C(c,E),e.preventDefault();break;case b:N();break}}else o.matches(".edit")?d==t||d==i?(document.querySelector('[data-order="'+(Number(y)-.75)+'"]').focus(),e.preventDefault()):d==b&&N():d==t||d==n||d==r||d==a||d==i||d==s||d==l||d==u?(document.querySelector('[data-order="0.25"]').focus(),e.preventDefault()):d==b&&N()}});var L={meta:"Meta",alt:"Alt",control:"Ctrl",shift:"Shift"};/(Mac|iPhone|iPod|iPad)/i.test(navigator.userAgent)&&(L.meta="\u2318",L.alt="\u2325",L.control="\u2303",L.shift="\u21E7");var ye=pe.create(document.querySelector("ul"),{onStart:function(){document.querySelector(".price_footer").classList.add("dragging")},onEnd:function(e){document.querySelector(".price_footer").classList.remove("dragging"),$e(e.oldIndex,e.newIndex)},disabled:!0,filter:".menu-item-control, .menu-item-control svg",preventOnFilter:!1,animation:250});
