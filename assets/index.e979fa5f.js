import{S as Z}from"./vendor.c27de078.js";const $=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))c(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const d of a.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&c(d)}).observe(document,{childList:!0,subtree:!0});function t(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerpolicy&&(a.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?a.credentials="include":n.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function c(n){if(n.ep)return;n.ep=!0;const a=t(n);fetch(n.href,a)}};$();(window.navigator.standalone||window.matchMedia("(display-mode: standalone)").matches)&&document.querySelector('meta[name="viewport"]').setAttribute("content","width=device-width, initial-scale=1.0, viewport-fit=cover, user-scalable=no");var h={meta:"Meta",alt:"Alt",control:"Ctrl",shift:"Shift"};/(Mac|iPhone|iPod|iPad)/i.test(navigator.userAgent)&&(h.meta="\u2318",h.alt="\u2325",h.control="\u2303",h.shift="\u21E7");var ee=document.querySelector("ul"),F=Z.create(ee,{onStart:function(e){document.querySelector(".price_footer").classList.add("dragging")},onEnd:function(e){document.querySelector(".price_footer").classList.remove("dragging"),me(e.oldIndex,e.newIndex)},disabled:!0,filter:".menu-item-control, .menu-item-control svg",preventOnFilter:!1,animation:250}),w,L,T,x,K=!1,C=!1,R,te=JSON.parse(localStorage.getItem("PoSData"))||{numOfItems:0,names:[],prices:[],theme:"system"},{numOfItems:u,names:b,prices:v,theme:p}=te;p=p||"system";document.querySelector(":root").style.setProperty("--num-of-items",Number(u));function W(e){let t=(e.target||e).previousElementSibling;t.stepUp(),t.dispatchEvent(new Event("input"))}function J(e){let t=(e.target||e).nextElementSibling;t.stepDown(),t.dispatchEvent(new Event("input"))}window.onload=function(){x=document.querySelector(".edit");let e=document.querySelector(".finished"),r=document.querySelector(".add"),t=document.querySelector(".order"),c=document.querySelector(".complete");T=document.querySelectorAll(".theme-button"),e.addEventListener("click",A),r.addEventListener("click",le),c.addEventListener("click",re),T.forEach(a=>{a.addEventListener("click",de)});for(var n=0;n<u;n++){let a=document.createElement("li");a.tabIndex=0,a.dataset.order=Number(n)+1,a.innerHTML=_(b[n],v[n],n),t.appendChild(a),j(a)}E(t),w=document.querySelectorAll(".item-remove-button"),L=document.querySelectorAll(".item-edit-button"),B(),x.addEventListener("click",a=>{let d=document.querySelector(".controls"),f=document.querySelectorAll("li"),y=document.querySelector(".theme-picker");const g=document.body.dataset.inEdit;document.body.dataset.finishingOrder=="true"?ne(x):g=="true"?(q(d,"any"),q(y,"margin-top"),w.forEach(m=>{q(m,"any"),m.disabled=!0}),L.forEach(m=>{q(m,"any"),m.disabled=!0}),f.forEach(m=>m.tabIndex="0"),F.option("disabled",!0),se(),c.disabled=!1,document.body.dataset.inEdit=!1,document.removeEventListener("dblclick",Q)):(E(d),E(y),w.forEach(m=>{E(m),m.disabled=!1}),L.forEach(m=>{E(m),m.disabled=!1}),f.forEach(m=>m.tabIndex="-1"),F.option("disabled",!1),ue(),c.disabled=!0,document.body.dataset.inEdit=!0,document.addEventListener("dbl  click",Q))})};var P=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"});function re(e){let r=e.target||e,t=document.querySelectorAll("li");document.querySelector(".total");let c=document.querySelector("#total").dataset.total;document.querySelector(".container");let n=r.previousElementSibling;const a=document.body.dataset.finishingOrder;c=="0"||(a=="true"?(ae(),E(document.querySelector(".order")),t.forEach(d=>d.tabIndex="0"),document.body.dataset.finishingOrder="false",n.firstElementChild.innerText="Edit",r.firstElementChild.innerText="Complete"):(t.forEach(d=>d.tabIndex="-1"),document.body.dataset.finishingOrder="true",q(document.querySelector(".order"),"margin-top"),n.firstElementChild.innerText="Back",r.firstElementChild.innerText="Finish"))}function ne(e){let r=document.querySelectorAll("li");document.querySelector(".total"),document.querySelector(".container");let t=e.nextElementSibling;E(document.querySelector(".order")),r.forEach(c=>c.tabIndex="0"),document.body.dataset.finishingOrder="false",e.firstElementChild.innerText="Edit",t.firstElementChild.innerText="Complete"}function ae(){let e=document.querySelector("#total");document.querySelectorAll('[name="Quantity"]').forEach(r=>{r.classList.add("fadeout"),e.classList.add("fadeout"),setTimeout(function(){r.value=0,r.classList.remove("fadeout"),e.classList.remove("fadeout"),r.dispatchEvent(new Event("input"))},125)})}function H(){let e=document.querySelectorAll("li");for(var r=1;r<=u;r++){let t=e[r-1],c=t.firstElementChild,n=t.children[1];t.dataset.order=r,c.dataset.order=r-.75,n.dataset.order=r-.25}B()}function oe(e){let r=e.target||e,t=r.parentElement,c=r.parentElement.querySelector("input"),n=document.querySelector("#total"),{price:a,quantity:d}=c.dataset,{total:f}=n.dataset,y=Number(f)-d*a,g=t.dataset.order;b.splice(g-1,1),v.splice(g-1,1),n.value=P.format(y),n.dataset.total=y,u=Number(u)-1,document.documentElement.style.setProperty("--num-of-items",Number(u)),t.classList.add("remove"),t.addEventListener("transitionend",function(m){m.propertyName=="margin-top"&&(t.outerHTML="")}),localStorage.setItem("PoSData",JSON.stringify({numOfItems:u,names:b,prices:v,theme:p})),H(),w=document.querySelectorAll(".item-remove-button"),L=document.querySelectorAll(".item-edit-button")}function ce(e){let r=e.target||e,t=document.querySelector("#total"),c=r.value,{price:n,quantity:a}=r.dataset,{total:d}=t.dataset,f=Number(d)+c*n-a*n;t.value=P.format(f),t.dataset.total=f,r.dataset.quantity=c}function ie(e){e.stopPropagation();let r=document.querySelector(".modal-edit-item");G(),document.body.dataset.currentModal="editing",E(r);let c=(e.target||e).nextElementSibling,n=r.querySelector(".x-button"),a=document.querySelector("#cancel-edit-item"),d=document.querySelector("#confirm-edit-item"),f=document.querySelector("#edited-item-name"),y=document.querySelector("#edited-item-price");f.value=c.innerText,y.value=c.dataset.price,f.focus(),n.addEventListener("click",M),a.addEventListener("click",function(){q(r,"any"),n.removeEventListener("click",M),d.removeEventListener("click",V),f.value="",y.value="",X(),document.body.dataset.currentModal=""},{once:!0}),d.addEventListener("click",V),d.dataset.previousItemName=c.innerText,d.dataset.previousPrice=c.dataset.price}function le(){event.stopPropagation();let e=document.querySelector(".modal-add-item");G(),document.body.dataset.currentModal="adding",E(e);let r=e.querySelector(".x-button"),t=e.querySelector("#cancel-add-item"),c=e.querySelector("#confirm-add-item"),n=e.querySelector("#add-item-name"),a=e.querySelector("#add-item-price");n.focus(),r.addEventListener("click",M),t.addEventListener("click",function(){q(e,"any"),r.removeEventListener("click",M),c.removeEventListener("click",z),n.value="",a.value="",X(),document.body.dataset.currentModal=""},{once:!0}),c.addEventListener("click",z)}function de(e){p=e.currentTarget.dataset.themeName,fe(),document.querySelector(":root").dataset.theme=p,localStorage.setItem("PoSData",JSON.stringify({numOfItems:u,names:b,prices:v,theme:p})),console.log(e.currentTarget)}function M(){let e=document.body.dataset.currentModal;e=="adding"?document.querySelector("#cancel-add-item").click():e=="editing"&&document.querySelector("#cancel-edit-item").click()}function Q(e){document.body.dataset.currentModal?M():!e.target.closest(".container")&&!e.target.closest(".theme-picker")&&!e.target.closest(".modal")&&A()}function V(e){let r=document.querySelector("#cancel-edit-item"),t=document.querySelector("#edited-item-name"),c=document.querySelector("#edited-item-price");if(!t.value.trim().length||!c.value.length)r.dispatchEvent(new Event("click"));else{let n=b.indexOf(e.currentTarget.dataset.previousItemName),a=document.querySelector('[data-order="'+Number(n+1)+'"');console.log(a);let d=P.formatToParts(c.value);d[1].value=d[1].value||"";let f=d[1].value+d[2].value+d[3].value;a.children[0].ariaLabel="Remove "+t.value+" Menu Item",a.children[1].ariaLabel="Edit "+t.value+" Menu Item",a.children[2].dataset.price=f,a.children[2].innerText=t.value,a.children[3].children[0].ariaLabel="Decrement "+t.value,a.children[3].children[1].ariaLabel="Number of "+t.value,a.children[3].children[1].id=t.value.toLowerCase(),a.children[3].children[1].dataset.price=f,a.children[3].children[2].ariaLabel="Increment "+t.value,b[n]=t.value,v[n]=f,localStorage.setItem("PoSData",JSON.stringify({numOfItems:u,names:b,prices:v,theme:p})),r.dispatchEvent(new Event("click"))}}function z(){document.querySelector(".modal-add-item");let e=document.querySelector(".order"),r=document.querySelector("#cancel-add-item"),t=document.querySelector("#add-item-name"),c=document.querySelector("#add-item-price");if(!t.value.trim().length&&!c.value.length)r.dispatchEvent(new Event("click"));else if(!(!t.value.trim().length||!c.value.length)){let n=P.formatToParts(c.value);n[1].value=n[1].value||"";let a=document.createElement("li");a.tabIndex="-1",a.dataset.order=Number(u)+1,a.innerHTML=_(t.value,n[1].value+n[2].value+n[3].value,u),e.appendChild(a),b[u]=t.value,v[u]=n[1].value+n[2].value+n[3].value,u=Number(u)+1,document.documentElement.style.setProperty("--num-of-items",Number(u)),localStorage.setItem("PoSData",JSON.stringify({numOfItems:u,names:b,prices:v,theme:p})),t.value="",c.value="",B(),Array.from(e.lastChild.lastChild.children).forEach(d=>{d.disabled=!0}),j(a),w=document.querySelectorAll(".item-remove-button"),L=document.querySelectorAll(".item-edit-button"),t.focus()}}function _(e,r,t){return'        <button aria-label="Remove '+e+' Menu Item" class="menu-item-control x-button item-remove-button hidden" data-order="'+(Number(t)+.25)+`" tabindex="0" disabled></button>
        <button aria-label="Edit `+e+' Menu Item" class="menu-item-control item-edit-button hidden" data-order="'+(Number(t)+.75)+`" tabindex="0" disabled>
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                <path d="M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"></path>
            </svg>
        </button>
        <h2 data-price="`+r+'">'+e+`</h2>
        <div class="quantity">
            <button aria-label="Decrement `+e+`" class="decrement" tabindex="-1"></button>
            <input aria-label="Number of `+e+'" type="number" pattern="[0-9]*" inputmode="numeric" data-price="'+r+'" data-quantity="0" min="0" max="99" value="0" name="Quantity" id="'+e.toLowerCase()+`" tabindex="-1">
            <button aria-label="Increment `+e+`" class="increment" tabindex="-1"></button>
        </div>`}function B(){x.dataset.order=Number(u)+1,x.nextElementSibling.dataset.order=Number(u)+2}function j(e){let r=e.querySelector(".item-remove-button"),t=e.querySelector(".item-edit-button"),c=e.querySelector(".increment"),n=e.querySelector(".decrement"),a=e.querySelector("input");r.addEventListener("click",oe),t.addEventListener("click",ie),c.addEventListener("click",W),n.addEventListener("click",J),a.addEventListener("input",ce)}function G(){let e=document.querySelector("body"),r=document.querySelector(".controls").children;T.forEach(t=>{t.disabled=!0}),w.forEach(t=>{q(t,"any"),t.disabled=!0}),L.forEach(t=>{q(t,"any"),t.disabled=!0}),e.classList.add("no-scroll"),r[0].disabled=!0,r[1].disabled=!0,x.disabled=!0}function X(){let e=document.querySelector("body"),r=document.querySelector(".controls").children;T.forEach(t=>{t.disabled=!1}),w.forEach(t=>{E(t),t.disabled=!1}),L.forEach(t=>{E(t),t.disabled=!1}),e.classList.remove("no-scroll"),r[0].disabled=!1,r[1].disabled=!1,x.disabled=!1}function E(e){e.classList.remove("hidden"),e.offsetWidth,e.classList.add("show")}function q(e,r){e.classList.remove("show"),e.addEventListener("transitionend",function t(c){(r=="any"||c.propertyName==r)&&!e.matches(".show")&&(e.classList.add("hidden"),e.removeEventListener("transitionend",t))})}function ue(){Array.from(document.querySelectorAll(".quantity")).forEach(e=>{Array.from(e.children).forEach(r=>{r.disabled=!0})})}function se(){Array.from(document.querySelectorAll(".quantity")).forEach(e=>{Array.from(e.children).forEach(r=>{r.disabled=!1})})}function me(e,r){let t=b[e],c=v[e];b.splice(e,1),v.splice(e,1),b.splice(r,0,t),v.splice(r,0,c),localStorage.setItem("PoSData",JSON.stringify({numOfItems:u,names:b,prices:v,theme:p})),H()}function fe(){switch(p){case"light":document.querySelector('meta[name="theme-color"]').setAttribute("content","#ffffff");break;case"dark":document.querySelector('meta[name="theme-color"]').setAttribute("content","#1c1c1c");break;case"system":window.matchMedia?window.matchMedia("(prefers-color-scheme: light").matches?document.querySelector('meta[name="theme-color"]').setAttribute("content","#ffffff"):window.matchMedia("(prefers-color-scheme: dark").matches?document.querySelector('meta[name="theme-color"]').setAttribute("content","#1c1c1c"):document.querySelector('meta[name="theme-color"]').setAttribute("content",window.getComputedStyle(document.body).getPropertyValue("background-color")):document.querySelector('meta[name="theme-color"]').setAttribute("content","#1c1c1c");break}}function A(){document.querySelector(".edit").dispatchEvent(new Event("click"))}function ye(){C=!1,C==!1&&document.querySelector(".alert-dialog").classList.remove("show")}function N(e,r){document.querySelector('[data-order="'+(Number(e)-r)+'"]').focus()}function k(e,r){document.querySelector('[data-order="'+(Number(e)+r)+'"]').focus()}document.addEventListener("keydown",e=>{const r="ArrowUp",t="ArrowLeft",c="ArrowDown",n="ArrowRight",a="KeyW",d="KeyA",f="KeyS",y="KeyD",g="Enter",O="Backspace",m="Escape",S=1,D=.5,o=document.activeElement,U=document.body.dataset.inEdit,Y=document.body.dataset.finishingOrder,I=document.body.dataset.currentModal;let i=e.code;if(!i||i.indexOf("Numpad")!=-1||i.indexOf("Digit")!=-1)switch(i=e.key,e.key){case"w":case"W":i=a;break;case"a":case"A":i=d;break;case"s":case"S":i=f;break;case"d":case"D":i=y;break}if(!(o.matches("input")&&i!=m&&!o.parentElement.matches(".modal-content"))){if(K){let l="",s=e.key;i.indexOf("Key")!=-1?s=s.toUpperCase():i=="ArrowUp"?s="\u2191":i=="ArrowLeft"?s="\u2190":i=="ArrowRight"?s="\u2192":i=="ArrowDown"&&(s="\u2193"),console.log("press.key: "+e.key+", press.code: "+e.code+", displayKey: "+s),e.ctrlKey?(l=h.control,e.shiftKey&&(l+=" "+h.shift),e.altKey&&(l+=" "+h.alt),e.metaKey&&(l+=" "+h.meta),e.key!="Control"&&e.key!="Meta"&&e.key!="Alt"&&e.key!="Shift"?s=l+" + "+s:s=l):e.metaKey?(l=h.meta,e.shiftKey&&(l+=" "+h.shift),e.altKey&&(l+=" "+h.alt),e.key!="Control"&&e.key!="Meta"&&e.key!="Alt"&&e.key!="Shift"?s=l+" + "+s:s=l):e.altKey&&(l=h.alt,e.shiftKey&&(l+=" "+h.shift),e.key!="Control"&&e.key!="Meta"&&e.key!="Alt"&&e.key!="Shift"?s=l+" + "+s:s=l),document.querySelector(".alert-dialog").textContent=s,C==!0?clearTimeout(R):(document.querySelector(".alert-dialog").classList.add("show"),C=!0),R=setTimeout(ye,2500)}if(e.altKey&&i=="KeyK"){K=!K;return}if(Y=="true")if(o.parentElement.matches(".footer")){const l=o.dataset.order;switch(i){case t:case d:l!=Number(u)+1&&N(l,S);break;case n:case y:l!=Number(u)+2&&k(l,S);break;case O:document.querySelector(".edit").click()}}else switch(i){case t:case d:case n:case y:document.querySelector(".edit").focus();break;case O:document.querySelector(".edit").click();break;case g:document.querySelector(".complete").click()}else if(U!="true")if(o.matches("li")){const l=o.dataset.order;if(isFinite(i)){let s=o.querySelector("input");s.value=s.value=="0"?i:s.value.slice(0,-1)+i,s.dispatchEvent(new Event("input"))}else switch(i){case r:case a:l!=1&&N(l,S);break;case c:case f:k(l,S);break;case t:case d:J(o.querySelector(".decrement"));break;case n:case y:W(o.querySelector(".increment"));break;case g:document.querySelector(".complete").click();break;case O:let s=o.querySelector("input");s.value=s.value.length==1?0:s.value.slice(0,-1),s.dispatchEvent(new Event("input"));break}}else if(o.parentElement.matches(".footer")){const l=o.dataset.order;switch(i){case r:case a:document.querySelector('[data-order="'+u+'"]').focus();break;case t:case d:l!=Number(u)+1&&N(l,S);break;case n:case y:l!=Number(u)+2&&k(l,S);break}}else i==r||i==c||i==t||i==n||i==a||i==f||i==d||i==y?document.querySelector('[data-order="1"]').focus():i==g&&document.querySelector(".complete").click();else if(I=="adding"||I=="editing")switch(i){case r:o.matches("#add-item-name")||o.matches("#edited-item-name")?o.parentElement.previousElementSibling.focus():o.matches("#add-item-price")||o.matches("#edited-item-price")?o.previousElementSibling.previousElementSibling.focus():(o.matches(".cancel")||o.matches(".confirm"))&&o.parentElement.previousElementSibling.children[3].focus();break;case t:o.matches(".cancel")?(o.parentElement.previousElementSibling.children[3].focus(),e.preventDefault()):o.matches(".confirm")&&(o.previousElementSibling.focus(),e.preventDefault());break;case c:o.matches(".x-button")?o.nextElementSibling.children[1].focus():o.matches("#add-item-name")||o.matches("#edited-item-name")?o.nextElementSibling.nextElementSibling.focus():o.matches("#add-item-price")||o.matches("#edited-item-price")?o.parentElement.nextElementSibling.children[0].focus():o.matches(".cancel")&&o.nextElementSibling.focus();break;case n:o.matches(".x-button")?(o.nextElementSibling.children[1].focus(),e.preventDefault()):o.matches(".cancel")&&(o.nextElementSibling.focus(),e.preventDefault());break;case g:o.matches("#add-item-name")||o.matches("#edited-item-name")?o.nextElementSibling.nextElementSibling.focus():(o.matches("#add-item-price")||o.matches("#edited-item-price"))&&(I=="adding"?document.querySelector("#confirm-add-item").click():I=="editing"&&document.querySelector("#confirm-edit-item").click());break;case m:I=="adding"?document.querySelector("#cancel-add-item").click():I=="editing"&&document.querySelector("#cancel-edit-item").click();break}else if(U=="true")if(o.matches(".item-remove-button")){const l=o.dataset.order;switch(i){case r:case a:N(l,S),e.preventDefault();break;case c:case f:l!=Number(u)-.75?k(l,S):document.querySelector(".edit").focus(),e.preventDefault();break;case n:case y:k(l,D),e.preventDefault();break;case t:e.preventDefault();break;case m:A();break}}else if(o.matches(".item-edit-button")){const l=o.dataset.order;switch(i){case r:case a:N(l,S),e.preventDefault();break;case c:case f:l!=Number(u)-.25?k(l,S):document.querySelector(".edit").focus(),e.preventDefault();break;case t:case d:N(l,D),e.preventDefault();break;case n:e.preventDefault();break;case m:A();break}}else if(o.parentElement.matches(".controls")){const l=o.dataset.order;switch(i){case c:case f:k(l,S),e.preventDefault();break;case t:case d:l!=-.5&&N(l,D);break;case n:case y:l!=0&&k(l,D);break;case m:A();break}}else o.matches(".edit")?i==r||i==a?(document.querySelector('[data-order="'+(Number(u)-.75)+'"]').focus(),e.preventDefault()):i==m&&A():i==r||i==c||i==t||i==n||i==a||i==f||i==d||i==y?(document.querySelector('[data-order="0.25"]').focus(),e.preventDefault()):i==m&&A()}});
