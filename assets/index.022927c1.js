import{S as H}from"./vendor.c27de078.js";const K=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function r(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerpolicy&&(a.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?a.credentials="include":o.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(o){if(o.ep)return;o.ep=!0;const a=r(o);fetch(o.href,a)}};K();(window.navigator.standalone||window.matchMedia("(display-mode: standalone)").matches)&&document.querySelector('meta[name="viewport"]').setAttribute("content","width=device-width, initial-scale=1.0, viewport-fit=cover, user-scalable=no");var U=document.querySelector("ul"),A=H.create(U,{onStart:function(e){document.querySelector(".price_footer").classList.add("dragging")},onEnd:function(e){document.querySelector(".price_footer").classList.remove("dragging"),I(e.oldIndex,e.newIndex)},disabled:!0,filter:".menu-item-control"}),g,v,F=JSON.parse(localStorage.getItem("PoSData"))||{numOfItems:0,names:[],prices:[],theme:"system"},{numOfItems:i,names:b,prices:S,theme:q}=F;q=q||"system";document.querySelector(":root").style.setProperty("--num-of-items",Number(i));function D(e){let r=(e.target||e).previousElementSibling;r.stepUp(),r.dispatchEvent(new Event("input"))}function T(e){let r=(e.target||e).nextElementSibling;r.stepDown(),r.dispatchEvent(new Event("input"))}window.onload=function(){v=document.querySelector(".edit");let e=document.querySelector(".finished"),t=document.querySelector(".add"),r=document.querySelector(".order"),n=document.querySelector(".complete"),o=document.querySelectorAll(".theme-button");e.addEventListener("click",w),t.addEventListener("click",j),n.addEventListener("click",J),o.forEach(u=>{u.addEventListener("click",G)});for(var a=0;a<i;a++){let u=document.createElement("li");u.tabIndex=0,u.dataset.order=Number(a)+1,u.innerHTML=B(b[a],S[a],a),r.appendChild(u),C(u)}E(r),g=document.querySelectorAll(".item-remove-button"),v.dataset.order=Number(i)+1,v.nextElementSibling.dataset.order=Number(i)+2,v.addEventListener("click",u=>{let s=u.target,m=document.querySelector(".controls"),y=document.querySelectorAll("li"),k=document.querySelector(".theme-picker");const p=s.dataset.inEdit;document.querySelector(".total").dataset.inTransition=="true"?W(s):p=="true"?(N(m,"any"),N(k,"margin-top"),g.forEach(f=>{N(f,"any"),f.disabled=!0}),y.forEach(f=>f.tabIndex="0"),A.option("disabled",!0),Y(),n.disabled=!1,s.dataset.inEdit=!1):(E(m),E(k),g.forEach(f=>{E(f),f.disabled=!1}),y.forEach(f=>f.tabIndex="-1"),A.option("disabled",!1),z(),n.disabled=!0,s.dataset.inEdit=!0)})};var L=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"});function J(e){let t=e.target||e,r=document.querySelectorAll("li"),n=document.querySelector(".total"),o=document.querySelector("#total").dataset.total;document.querySelector(".container");let a=t.previousElementSibling;const u=n.dataset.inTransition;o=="0"||(u=="true"?(R(),E(document.querySelector(".order")),r.forEach(s=>s.tabIndex="0"),n.dataset.inTransition="false",a.firstElementChild.innerText="Edit",t.firstElementChild.innerText="Complete"):(r.forEach(s=>s.tabIndex="-1"),n.dataset.inTransition="true",N(document.querySelector(".order"),"margin-top"),a.firstElementChild.innerText="Back",t.firstElementChild.innerText="Finish"))}function W(e){let t=document.querySelectorAll("li"),r=document.querySelector(".total");document.querySelector(".container");let n=e.nextElementSibling;E(document.querySelector(".order")),t.forEach(o=>o.tabIndex="0"),r.dataset.inTransition="false",e.firstElementChild.innerText="Edit",n.firstElementChild.innerText="Complete"}function R(){let e=document.querySelector("#total");document.querySelectorAll('[name="Quantity"]').forEach(t=>{t.classList.add("fadeout"),e.classList.add("fadeout"),setTimeout(function(){t.value=0,t.classList.remove("fadeout"),e.classList.remove("fadeout"),t.dispatchEvent(new Event("input"))},125)})}function x(){let e=document.querySelectorAll("li"),t=document.querySelector(".edit"),r=document.querySelector(".complete");for(var n=1;n<=i;n++){let o=e[n-1],a=o.firstElementChild;o.dataset.order=n,a.dataset.order=n-.5}t.dataset.order=Number(i)+1,r.dataset.order=Number(i)+2}function Q(e){let t=e.target||e,r=t.parentElement,n=t.parentElement.querySelector("input"),o=document.querySelector("#total"),{price:a,quantity:u}=n.dataset,{total:s}=o.dataset,m=Number(s)-u*a,y=r.dataset.order;b.splice(y-1,1),S.splice(y-1,1),o.value=L.format(m),o.dataset.total=m,i=Number(i)-1,document.documentElement.style.setProperty("--num-of-items",Number(i)),r.outerHTML="",localStorage.setItem("PoSData",JSON.stringify({numOfItems:i,names:b,prices:S,theme:q})),x(),g=document.querySelectorAll(".item-remove-button")}function _(e){let t=e.target||e,r=document.querySelector("#total"),n=t.value,{price:o,quantity:a}=t.dataset,{total:u}=r.dataset,s=Number(u)+n*o-a*o;r.value=L.format(s),r.dataset.total=s,t.dataset.quantity=n}function j(){let e=document.querySelector(".addItem");document.querySelector(".order"),V(),e.dataset.adding="true",E(e);let t=document.querySelector("#cancel-add-item"),r=document.querySelector("#confirm-add-item"),n=document.querySelector("#item"),o=document.querySelector("#price");n.focus(),t.addEventListener("click",function(){N(e,"any"),r.removeEventListener("click",O),n.value="",o.value="",X(),e.dataset.adding="false"},{once:!0}),r.addEventListener("click",O)}function G(e){q=e.currentTarget.dataset.themeName,ee(),document.querySelector(":root").dataset.theme=q,localStorage.setItem("PoSData",JSON.stringify({numOfItems:i,names:b,prices:S,theme:q})),console.log(e.currentTarget)}function O(){document.querySelector(".addItem");let e=document.querySelector(".order"),t=document.querySelector("#cancel-add-item"),r=document.querySelector("#item"),n=document.querySelector("#price");if(!r.value.trim().length&&!n.value.length)t.dispatchEvent(new Event("click"));else if(!(!r.value.trim().length||!n.value.length)){let o=L.formatToParts(n.value);o[1].value=o[1].value||"";let a=document.createElement("li");a.tabIndex="-1",a.dataset.order=Number(i)+1,a.innerHTML=B(r.value,o[1].value+o[2].value+o[3].value,i),e.appendChild(a),b[i]=r.value,S[i]=o[1].value+o[2].value+o[3].value,i=Number(i)+1,document.documentElement.style.setProperty("--num-of-items",Number(i)),localStorage.setItem("PoSData",JSON.stringify({numOfItems:i,names:b,prices:S,theme:q})),r.value="",n.value="",v.dataset.order=Number(i)+1,v.nextElementSibling.dataset.order=Number(i)+2,Array.from(e.lastChild.lastChild.children).forEach(u=>{u.disabled=!0}),C(a),g=document.querySelectorAll(".item-remove-button"),r.focus()}}function B(e,t,r){return'        <button aria-label="Remove '+e+' Menu Item" class="menu-item-control x-button item-remove-button hidden" data-order="'+(Number(r)+.5)+`" tabindex="0" disabled></button>
        <h2 data-price="`+t+'">'+e+`</h2>
        <div class="quantity">
            <button aria-label="Decrement `+e+`" class="decrement" tabindex="-1"></button>
            <input aria-label="Number of `+e+'" type="number" pattern="[0-9]*" inputmode="numeric" data-price="'+t+'" data-quantity="0" min="0" max="99" value="0" name="Quantity" id="'+e.toLowerCase()+`" tabindex="-1">
            <button aria-label="Increment `+e+`" class="increment" tabindex="-1"></button>
        </div>`}function C(e){let t=e.querySelector(".item-remove-button"),r=e.querySelector(".increment"),n=e.querySelector(".decrement"),o=e.querySelector("input");t.addEventListener("click",Q),r.addEventListener("click",D),n.addEventListener("click",T),o.addEventListener("input",_)}function V(){let e=document.querySelector("body"),t=document.querySelector(".controls").children;g.forEach(r=>{N(r,"any"),r.disabled=!0}),e.classList.add("no-scroll"),t[0].disabled=!0,t[1].disabled=!0,v.disabled=!0}function X(){let e=document.querySelector("body"),t=document.querySelector(".controls").children;g.forEach(r=>{E(r),r.disabled=!1}),e.classList.remove("no-scroll"),t[0].disabled=!1,t[1].disabled=!1,v.disabled=!1}function E(e){e.classList.remove("hidden"),e.offsetWidth,e.classList.add("show")}function N(e,t){e.classList.remove("show"),e.addEventListener("transitionend",function r(n){(t=="any"||n.propertyName==t)&&!e.matches(".show")&&(e.classList.add("hidden"),e.removeEventListener("transitionend",r))})}function z(){Array.from(document.querySelectorAll(".quantity")).forEach(e=>{Array.from(e.children).forEach(t=>{t.disabled=!0})})}function Y(){Array.from(document.querySelectorAll(".quantity")).forEach(e=>{Array.from(e.children).forEach(t=>{t.disabled=!1})})}function Z(e){e.parentElement.insertBefore(e,e.previousElementSibling),e.focus()}function $(e){e.parentElement.insertBefore(e.nextElementSibling,e),e.focus()}function I(e,t){let r=b[e],n=S[e];b.splice(e,1),S.splice(e,1),b.splice(t,0,r),S.splice(t,0,n),localStorage.setItem("PoSData",JSON.stringify({numOfItems:i,names:b,prices:S,theme:q})),x()}function ee(){switch(q){case"light":document.querySelector('meta[name="theme-color"]').setAttribute("content","#ffffff");break;case"dark":document.querySelector('meta[name="theme-color"]').setAttribute("content","#1c1c1c");break;case"system":window.matchMedia?window.matchMedia("(prefers-color-scheme: dark").matches?document.querySelector('meta[name="theme-color"]').setAttribute("content","#1c1c1c"):document.querySelector('meta[name="theme-color"]').setAttribute("content","#ffffff"):document.querySelector('meta[name="theme-color"]').setAttribute("content","#1c1c1c");break}}function w(){document.querySelector(".edit").dispatchEvent(new Event("click"))}document.addEventListener("keydown",e=>{const t="ArrowUp",r="ArrowLeft",n="ArrowDown",o="ArrowRight",a="KeyW",u="KeyA",s="KeyS",m="KeyD",y="Enter",k="Backspace",p="Escape",d=document.activeElement,f=v.dataset.inEdit,P=document.querySelector(".total").dataset.inTransition,M=document.querySelector(".addItem").dataset.adding;let c=e.code;if(!c||c.indexOf("Numpad")!=-1||c.indexOf("Digit")!=-1)switch(c=e.key,e.key){case"w":case"W":c=a;break;case"a":case"A":c=u;break;case"s":case"S":c=s;break;case"d":case"D":c=m;break}if(P=="true")if(d.parentElement.matches(".footer")){const l=d.dataset.order;switch(c){case r:case u:l!=Number(i)+1&&document.querySelector('[data-order="'+(Number(l)-1)+'"]').focus();break;case o:case m:l!=Number(i)+2&&document.querySelector('[data-order="'+(Number(l)+1)+'"]').focus();break;case k:document.querySelector(".edit").click()}}else switch(c){case r:case u:case o:case m:document.querySelector('[data-order="'+(Number(i)+1)+'"]').focus();break;case k:document.querySelector(".edit").click();break;case y:document.querySelector(".complete").click()}else if(f!="true")if(d.matches("li")){const l=d.dataset.order;if(isFinite(c)){let h=d.querySelector("input");h.value=h.value=="0"?c:h.value.slice(0,-1)+c,h.dispatchEvent(new Event("input"))}else switch(c){case t:case a:l!=1&&document.querySelector('[data-order="'+(Number(l)-1)+'"]').focus(),e.preventDefault();break;case n:case s:document.querySelector('[data-order="'+(Number(l)+1)+'"]').focus(),e.preventDefault();break;case r:case u:T(d.querySelector(".decrement")),e.preventDefault();break;case o:case m:D(d.querySelector(".increment")),e.preventDefault();break;case y:document.querySelector(".complete").click();break;case k:let h=d.querySelector("input");h.value=h.value.length==1?0:h.value.slice(0,-1),h.dispatchEvent(new Event("input"));break}}else if(d.parentElement.matches(".footer")){const l=d.dataset.order;switch(c){case t:case a:document.querySelector('[data-order="'+i+'"]').focus(),e.preventDefault();break;case r:case u:l!=Number(i)+1&&document.querySelector('[data-order="'+(Number(l)-1)+'"]').focus(),e.preventDefault();break;case o:case m:l!=Number(i)+2&&document.querySelector('[data-order="'+(Number(l)+1)+'"]').focus(),e.preventDefault();break}}else c==t||c==n||c==r||c==o||c==a||c==s||c==u||c==m?(document.querySelector('[data-order="1"]').focus(),e.preventDefault()):c==y&&document.querySelector(".complete").click();else if(M=="true")c==y?d.matches("#item")?document.querySelector("#price").focus():d.matches("#price")&&document.querySelector("#confirm-add-item").click():c==p&&document.querySelector("#cancel-add-item").click();else if(f=="true")if(d.matches(".item-remove-button")){const l=d.dataset.order;switch(c){case t:case a:l!=.5?document.querySelector('[data-order="'+(Number(l)-1)+'"]').focus():document.querySelector(".finished").focus(),e.preventDefault();break;case n:case s:l!=Number(i)-.5?document.querySelector('[data-order="'+(Number(l)+1)+'"]').focus():document.querySelector(".edit").focus(),e.preventDefault();break;case o:case m:document.querySelector('[data-order="'+(Number(l)+.5)+'"]').focus(),e.preventDefault();break;case r:e.preventDefault();case p:w();break}}else if(d.matches("li")){const l=d.dataset.order;switch(c){case t:case a:l!=1?(Z(d),I(l-1,l-2)):document.querySelector('[data-order="'+(Number(l)-.5)+'"]').focus(),e.preventDefault();break;case n:case s:l!=Number(i)?($(d),I(l-1,l)):document.querySelector(".edit").focus(),e.preventDefault();break;case r:case u:document.querySelector('[data-order="'+(Number(l)-.5)+'"]').focus();break;case p:w();break}}else if(d.parentElement.matches(".controls")){const l=d.dataset.order;switch(c){case n:case s:document.querySelector('[data-order="0.5"]').focus(),e.preventDefault();break;case r:case u:l!=-.5&&document.querySelector('[data-order="'+(Number(l)-.5)+'"]').focus();break;case o:case m:l!=0&&document.querySelector('[data-order="'+(Number(l)+.5)+'"]').focus();break;case p:w();break}}else d.matches(".edit")?c==t?(document.querySelector('[data-order="'+(Number(i)-.5)+'"]').focus(),e.preventDefault()):c==p&&w():c==t||c==n||c==r||c==o||c==a||c==s||c==u||c==m?(document.querySelector('[data-order="0.5"]').focus(),e.preventDefault()):c==p&&w()});
